{"version":3,"sources":["webpack:///./lib/js/runeBuilder/components/Flourish/index.jsx","webpack:///./lib/js/helpers.js","webpack:///./lib/js/data/paths.js","webpack:///./lib/js/runeBuilder/components/ToolTip/index.jsx","webpack:///./lib/js/runeBuilder/components/TruncatedText/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/PerkButtonWithTooltip/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Mobile/components/Slot/index.jsx","webpack:///./lib/js/runeBuilder/components/Share/index.jsx","webpack:///./lib/js/runeBuilder/components/Button/index.jsx","webpack:///./lib/js/runeBuilder/components/PreloadedImage/index.jsx","webpack:///./lib/js/runeBuilder/services/api/paths.js","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Drawer/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/PathButton/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Progress/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Mobile/components/PathButton/index.jsx","webpack:///./lib/js/runeBuilder/components/Description/index.jsx","webpack:///./lib/js/runeBuilder/index.jsx","webpack:///./lib/js/runeBuilder/reducers/index.js","webpack:///./lib/js/runeBuilder/reducers/paths.js","webpack:///./lib/js/runeBuilder/reducers/primary.js","webpack:///./lib/js/runeBuilder/reducers/secondary.js","webpack:///./lib/js/runeBuilder/reducers/longDescriptions.js","webpack:///./lib/js/runeBuilder/components/App/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/PathList/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/PathList/components/Path/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/index.jsx","webpack:///./lib/js/runeBuilder/components/Reset/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Backdrop/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Options/index.jsx","webpack:///./lib/js/runeBuilder/services/api/descriptions.js","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/PrimaryPath/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/PrimaryPath/components/KeyStoneSlot/index.jsx","webpack:///./lib/js/runeBuilder/components/Spinner/index.jsx","webpack:///./lib/js/runeBuilder/components/RuneDescription/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/PathSlot/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/RuneChooser/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/RuneChooser/components/RuneSlot/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/RuneChooser/components/RuneDrawer/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/EmptySlot/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Mobile/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Mobile/components/PathList/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Mobile/components/PrimaryPath/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Mobile/components/PrimaryPath/components/Backdrop/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Mobile/components/SecondaryPath/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Mobile/components/SecondaryPath/components/RuneChooser/index.jsx","webpack:///./lib/js/runeBuilder/components/App/components/SVGGradients/index.jsx","webpack:///./lib/js/runeBuilder/components/App/components/ViewportSwitch/index.jsx","webpack:///./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Slot/index.jsx","webpack:///./lib/js/runeBuilder/store.js","webpack:///./lib/js/runeBuilder/helpers.js","webpack:///./lib/js/runeBuilder/components/PerkButton/index.jsx"],"names":["Block","props","animated","undefined","top","bottom","FlourishBar","FlourishCap","left","right","Flourish","assetPath","pushToDataLayer","path","versionedAssetPath","analyticsEvent","event","eventCategory","window","dataLayer","push","pushedEvent","process","env","NODE_ENV","console","log","slug","id","landing","glow","icon","vfx","construct","colors","title","gradient","videos","fadeIn","ToolTipBlock","ToolTipContent","ToolTopBar","ToolTipCarot","leftOffset","ToolTipPosition","state","appNode","document","querySelector","rect","wrap","getBoundingClientRect","appRect","margin","height","width","isLeft","isRight","newLeft","setState","node","children","Component","ToolTip","isOpen","open","bind","close","addEventListener","removeEventListener","_portal","content","ref","TruncatedText","lines","text","innerRef","lineHeight","parseFloat","getComputedStyle","cloneElement","Description","rune","name","PerkButtonWithTooltip","slideIn","LeftSide","RightSide","animateIn","fixed","ShareTitle","ShareButton","extend","ShareLink","withComponent","ShareSVG","Share","primary","config","keystone","slots","runes","choice","link","siteUrl","runeId","handleFacebookShare","handleTwitterShare","handleVKShare","handleShareLink","i18n","runebuilder","share","facebook","twitter","language","vk","mapStateToProps","paths","secondary","Button","square","PreloadedImage","Img","isLoaded","src","then","catch","nextProps","setPrimary","setSecondary","setPrimaryRune","togglePrimaryRuneDrawer","setSecondaryRune","toggleSecondaryPathDrawer","toggleSecondaryRuneDrawer","clearPrimary","clearSecondary","firstRuneIndex","dispatch","type","data","slotIndex","runeIndex","Slide","Row","RowItem","columns","BlurHolder","Blur","BlurInner","Drawer","timing","animation","paused","set","blurHolder","zIndex","row","childNodes","opacity","x","to","block","visibility","ease","easeNone","flourishTop","flourishBottom","color","blur","staggerTo","length","prevProps","requestAnimationFrame","play","reverse","seek","kill","slide","Children","map","child","Slot","Icon","Circles","Circle1","Circle2","Circle3","Cup","PerkButton","rings","circlesId","cupId","pulse","total","Border","BarOuter","BarHeight","current","BarInner","BarHighlight","isActive","highlight","Progress","hasPath","small","InnerIcon","PathButton","restProps","appear","Title","flush","P","require","mountNode","get","response","styles","pathIndex","supportedShareRoutes","forEach","testRoute","test","route","longDescriptions","pathsReducer","initialState","primaryReducer","getState","find","p","openIndex","eventAction","eventLabel","runesIndex","slot","newState","slice","nextSlotIndex","s","secondaryReducer","choices","remainingPaths","runeGroup","Math","floor","groupMatch","choiceIndex","nextSlot","descriptionReducer","shift","global","App","runeBuilderConfig","split","Number","addPaths","buildCompleted","validatedBuild","mapDispatchToProps","AppOuter","AppInner","Desktop","Paths","PathList","pathsData","Object","keys","key","pathsAPI","Perk","PerkBackground","PerkButtonOverlay","PathIconWrap","PathIcon","PathVFX","PathBody","PathHeader","PathTitle","PathFooter","KeyStones","KeyStone","KeyStoneImg","__html","longDescription","Path","slogan","setPrimaryAndRune","stopPropagation","description","PathBlock","PathColumn","RuneBuilder","Reset","reset","Environment","Splash","Construct","Keystone","Backdrop","preload","Promise","all","keystoneChoice","descriptionsAPI","Label","Input","InputMask","Options","handleKeyDown","keyCode","setShift","handleKeyUp","handleChange","preventDefault","toggleGlobal","showDetailedDescriptions","PrimaryPath","sharedProps","toggleDrawer","setRune","selectKeystone","selectGreater","KeyStoneSlot","currentSlot","spin","SVG","Spinner","RuneDescription","showLong","shortDescription","SecondaryPath","PathOptionButton","Hr","setBonus","value","PathSlot","remainingPrimaryChoices","filter","values","bonuses","bonus","indexOf","selectSecondary","warn","toggleSecondaryRuneDrawer0","toggleSecondaryRuneDrawer1","rune1","rune2","RuneSlot","Item","RuneDrawer","choice1","choice2","rune1Group","rune2Group","runeGroupNumber","inRuneGroup1","inRuneGroup2","isChosen","EmptySlot","splash","body","Mobile","SlotBlock","slotRune","selectRune","image","Image","onload","PerkList","PerkItem","RuneDrawerItem","SVGGradients","ViewportSwitch","match","testMatch","handleResize","matchMedia","queryString","matches","PassComponent","FailComponent","only","large","DisabledButton","Frame","KeystoneFlourish","selectTitle","selectText","currentRune","disabled","setRuneWithData","store","runeIconSrc","validateBuild","facebookShare","twitterShare","vkShare","shareLink","loadImage","resolve","reject","tempImage","onerror","firstEmptyChoice","join","FB","ui","method","href","quote","headline","mobile_iframe","encoded","encodeURIComponent","size","OuterFrame","InnerFrame","SlotButton","isDisabled","onClick","stroke"],"mappings":"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","file":"runeBuilder.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\n\nconst Block = styled('div')`\n    opacity: 0.6;\n    color: #594620;\n    position: absolute;\n    left: 0;\n    right: 0;\n\n    ${props => props.animated !== undefined && `\n        width: 0;\n    `}\n\n    ${props => props.top !== undefined && `\n        top: ${props.top}px;\n    `}\n\n    ${props => props.bottom !== undefined && `\n        bottom: ${props.bottom}px;\n    `}\n`;\n\nconst FlourishBar = styled('div')`\n    margin: 0 3px;\n    border-top: 1px solid currentColor;\n`;\n\nconst FlourishCap = styled('div')`\n    border: 1px solid currentColor;\n    width: 5px;\n    height: 5px;\n    position: absolute;\n    transform: translate(-50%, -50%) rotate(45deg);\n\n    ${props => props.left && `\n        left: 0;\n    `}\n\n    ${props => props.right && `\n        left: 100%;\n    `}\n`;\n\n\nconst Flourish = props => (\n    <Block {...props}>\n        <FlourishCap left />\n        <FlourishBar />\n        <FlourishCap right />\n    </Block>\n);\n\n\nexport default Flourish;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/Flourish/index.jsx","\n/* global versionedAssetPath:true */\nexport function assetPath(path) {\n    return `${versionedAssetPath}${path}`;\n}\n\n\nconst analyticsEvent = {\n    event: 'analyticsEvent',\n    eventCategory: 'Preseason-Update',\n};\n\nexport function pushToDataLayer(event) {\n    if (typeof window.dataLayer.push === 'function') {\n        const pushedEvent = {\n            ...analyticsEvent,\n            ...event,\n        };\n\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(pushedEvent);\n        }\n        window.dataLayer.push(pushedEvent);\n    }\n}\n\n\nexport default {\n    assetPath,\n    pushToDataLayer,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/helpers.js","import {\n    assetPath,\n} from '../helpers';\n\n\nexport default [\n    {\n        slug: 'resolve',\n        id: 8400,\n        landing: {\n            glow: assetPath('/img/runeBuilder/assets/Resolve/glow-r.png'),\n            icon: assetPath('/img/runeBuilder/assets/Resolve/icon-r.png'),\n            vfx: assetPath('/img/runeBuilder/assets/Resolve/vfx-r.png'),\n        },\n        construct: assetPath('/img/runeBuilder/assets/construct/8400'),\n        icon: assetPath('/img/runeBuilder/runes/resolve/icon-r-36x36.png'),\n        colors: {\n            title: '#a1d586',\n            gradient: {\n                top: '#a1d586',\n                bottom: '#a4d08d',\n            },\n        },\n        videos: {\n            8437: '7HfWqtiLgug', // Grasp Of The Undying\n            8436: 'fXHbN6e0biQ', // Guardian\n            8439: 'k04J5F7BSG0', // Aftershock\n        },\n    },\n    {\n        slug: 'domination',\n        id: 8100,\n        construct: assetPath('/img/runeBuilder/assets/construct/8100'),\n        landing: {\n            glow: assetPath('/img/runeBuilder/assets/Domination/glow-d.png'),\n            icon: assetPath('/img/runeBuilder/assets/Domination/icon-d.png'),\n            vfx: assetPath('/img/runeBuilder/assets/Domination/vfx-d.png'),\n        },\n        icon: assetPath('/img/runeBuilder/runes/domination/icon-d-36x36.png'),\n        colors: {\n            title: '#d44242',\n            gradient: {\n                top: '#d44242',\n                bottom: '#dc4747',\n            },\n        },\n        videos: {\n            8112: 'eAYgLNxEXL4', // Electrocute\n            8124: '8-5htdt-ohg', // Predator\n            8128: 'fKKTvyoaMu4', // Dark Harvest\n        },\n    },\n    {\n        slug: 'precision',\n        id: 8000,\n        construct: assetPath('/img/runeBuilder/assets/construct/8000'),\n        landing: {\n            glow: assetPath('/img/runeBuilder/assets/Precision/glow-p.png'),\n            icon: assetPath('/img/runeBuilder/assets/Precision/icon-p.png'),\n            vfx: assetPath('/img/runeBuilder/assets/Precision/vfx-p.png'),\n        },\n        icon: assetPath('/img/runeBuilder/runes/precision/icon-p-36x36.png'),\n        colors: {\n            title: '#c8aa6e',\n            gradient: {\n                top: '#c8aa6e',\n                bottom: '#aea789',\n            },\n        },\n        videos: {\n            8003: 'PTQLTMSZr-k', // Press The Attack\n            8008: 'iA8OK5evk6w', // Lethal Tempo\n            8021: 'nbD_xmQIYRM', // Fleet Footwork\n        },\n    },\n    {\n        slug: 'sorcery',\n        id: 8200,\n        construct: assetPath('/img/runeBuilder/assets/construct/8200'),\n        landing: {\n            glow: assetPath('/img/runeBuilder/assets/Sorcery/glow-s.png'),\n            icon: assetPath('/img/runeBuilder/assets/Sorcery/icon-s.png'),\n            vfx: assetPath('/img/runeBuilder/assets/Sorcery/vfx-s.png'),\n        },\n        icon: assetPath('/img/runeBuilder/runes/sorcery/icon-s-36x36.png'),\n        colors: {\n            title: '#9faafc',\n            gradient: {\n                top: '#9faafc',\n                bottom: '#6c75f5',\n            },\n        },\n        videos: {\n            8214: 'spn_dmGAEs0', // Summon Aerie\n            8229: 'GpNN2Q4a1qY', // Arcane Comet\n            8230: 'uJ5DQhy-axc', // Phase Rush\n        },\n    },\n    {\n        slug: 'inspiration',\n        id: 8300,\n        construct: assetPath('/img/runeBuilder/assets/construct/8300'),\n        landing: {\n            glow: assetPath('/img/runeBuilder/assets/Inspiration/glow-i.png'),\n            icon: assetPath('/img/runeBuilder/assets/Inspiration/icon-i.png'),\n            vfx: assetPath('/img/runeBuilder/assets/Inspiration/vfx-i.png'),\n        },\n        icon: assetPath('/img/runeBuilder/runes/inspiration/icon-i-36x36.png'),\n        colors: {\n            title: '#49aab9',\n            gradient: {\n                top: '#49aab9',\n                bottom: '#48b4be',\n            },\n        },\n        videos: {\n            8326: 'FkYLrlYVxDg', // Unsealed Spellbook (previously Summoner Specialist)\n            8351: 'KSaOUuW-t6Q', // Glacial Augment\n            8359: false,\n        },\n    },\n];\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/data/paths.js","import React from 'react';\nimport styled, {\n    keyframes,\n} from 'styled-components';\nimport {\n    assetPath,\n} from 'helpers';\n\nimport Portal from 'react-portal';\n\nconst fadeIn = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n`;\n\n\nconst ToolTipBlock = styled('div')`\n    pointer-events: none;\n    width: 284px;\n    box-shadow: 0 0 0 1px rgba(1,10,19,0.48);\n    color: #a09b8c;\n    font-size: 12px;\n    font-weight: normal;\n    line-height: 16px;\n    letter-spacing: 0.025em;\n    position: fixed;\n    backface-visibility: hidden;\n    z-index: 1000;\n    animation: ${fadeIn} 0.5s ease forwards;\n`;\n\nconst ToolTipContent = styled('div')`\n    padding: 20px 20px 1px;\n    border: 2px solid #5d471d;\n    background: #010a13;\n    position: relative;\n    z-index: 10;\n`;\n\nconst ToolTopBar = styled('div')`\n    height: 3px;\n    background: #010a13;\n    border-bottom: 1px solid #5d471d;\n    position: absolute;\n    top: 100%;\n    left: 12px;\n    right: 12px;\n    z-index: -1;\n\n    &::before,\n    &::after {\n        content: '';\n        background: url(\"${assetPath('/img/runeBuilder/tooltip-sub-border-horizontal.png')}\");\n        width: 4px;\n        height: 12px;\n        position: absolute;\n        bottom: 0;\n    }\n\n    &::before {\n        right: 100%;\n    }\n\n    &::after {\n        left: 100%;\n        transform: scale(-1, 1);\n    }\n`;\n\nconst ToolTipCarot = styled('div')`\n    width: 24px;\n    height: 15px;\n    background: url(\"${assetPath('/img/runeBuilder/tooltip-caret.png')}\");\n    position: absolute;\n    margin: -4px -12px;\n    top: 100%;\n    left: 50%;\n    transform: translateX(${props => props.leftOffset}px);\n`;\n\n\nclass ToolTipPosition extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            top: this.props.top,\n            left: this.props.left,\n        };\n    }\n\n    componentDidMount() {\n        const appNode = document.querySelector('#perks-app');\n\n        const rect = this.wrap.getBoundingClientRect();\n        const appRect = appNode.getBoundingClientRect();\n\n        const margin = 25;\n        const top = this.props.top - rect.height - 15;\n        let left = this.props.left - (rect.width / 2);\n        let leftOffset = 0;\n\n        const isLeft = left < appRect.left + margin;\n        const isRight = (left + rect.width) > (appRect.left + appRect.width) - margin;\n        // const isAbove = top < appRect.top;\n\n        if (isLeft) {\n            const newLeft = appRect.left + margin;\n            leftOffset = left - newLeft;\n            left = newLeft;\n        }\n\n        if (isRight) {\n            const newLeft = ((appRect.left + appRect.width) - rect.width) - margin;\n            leftOffset = left - newLeft;\n            left = newLeft;\n        }\n\n        this.setState({\n            top,\n            left,\n            leftOffset,\n        });\n    }\n\n    render() {\n        const {\n            top,\n            left,\n            leftOffset,\n        } = this.state;\n\n        return (\n            <ToolTipBlock innerRef={(node) => { this.wrap = node; }} style={{ top, left }}>\n                {this.props.children}\n\n                <ToolTopBar>\n                    <ToolTipCarot leftOffset={leftOffset} />\n                </ToolTopBar>\n            </ToolTipBlock>\n        );\n    }\n}\n\n\nexport default class ToolTip extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isOpen: false,\n            top: 0,\n            left: 0,\n        };\n\n        this.open = this.open.bind(this);\n        this.close = this.close.bind(this);\n    }\n\n    componentDidMount() {\n        window.addEventListener('scroll', this.close);\n    }\n\n    componentWillUnmount() {\n        this.close();\n        window.removeEventListener('scroll', this.close);\n    }\n\n    open() {\n        const rect = this._portal.getBoundingClientRect();\n\n        this.setState({\n            isOpen: true,\n            top: rect.top,\n            left: rect.left + (rect.width / 2),\n        });\n    }\n\n    close() {\n        this.setState({\n            isOpen: false,\n        });\n    }\n\n    render() {\n        const {\n            left,\n            top,\n            isOpen,\n        } = this.state;\n\n        if (!this.props.content) {\n            return this.props.children;\n        }\n\n        return (\n            <div\n                ref={(ref) => { this._portal = ref; }}\n                onMouseEnter={this.open}\n                onMouseLeave={this.close}\n            >\n                {this.props.children}\n\n                <Portal isOpened={isOpen}>\n                    <ToolTipPosition top={top} left={left}>\n                        <ToolTipContent>\n                            {this.props.content}\n                        </ToolTipContent>\n                    </ToolTipPosition>\n                </Portal>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/ToolTip/index.jsx","import React from 'react';\nimport shave from 'shave';\n\n\nexport default class TruncatedText extends React.Component {\n    componentDidMount() {\n        const {\n            lines = 2,\n        } = this.props;\n\n        const text = this.innerRef || this.ref;\n\n        if (text) {\n            const lineHeight = parseFloat(window.getComputedStyle(text).lineHeight);\n            const height = lineHeight * lines;\n\n            shave(text, height);\n        }\n    }\n\n    shouldComponentUpdate() {\n        return false;\n    }\n\n    render() {\n        return React.cloneElement(this.props.children, {\n            // Need to support styled components and regular nodes.\n            innerRef: (node) => { this.innerRef = node; },\n            ref: (node) => { this.ref = node; },\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/TruncatedText/index.jsx","import React from 'react';\n\n\nimport PerkButton from 'runeBuilder/components/PerkButton';\nimport ToolTip from 'runeBuilder/components/ToolTip';\nimport * as Description from 'runeBuilder/components/Description';\nimport RuneDescription from 'runeBuilder/components/RuneDescription';\n\n\nconst ToolTipContent = ({ rune }) => (\n    <div>\n        <Description.Title>{rune.name}</Description.Title>\n        <RuneDescription rune={rune} />\n    </div>\n);\n\n\nconst PerkButtonWithTooltip = ({ rune, ...props }) => (\n    <ToolTip content={rune && <ToolTipContent rune={rune} />}>\n        <PerkButton rune={rune} {...props} />\n    </ToolTip>\n);\n\n\nexport default PerkButtonWithTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/PerkButtonWithTooltip/index.jsx","// import React from 'react';\nimport styled, {\n    keyframes,\n} from 'styled-components';\n\n\nconst slideIn = keyframes`\n    from {\n        opacity: 0;\n        transform: translateX(20px);\n    }\n    to {\n        opacity: 1;\n        transform: none;\n    }\n`;\n\n\nexport const Block = styled('div')`\n    display: flex;\n    margin: 0;\n    padding: 6px 0;\n    position: relative;\n    animation: ${slideIn} 0.3s ease forwards;\n`;\n\n\nexport const LeftSide = styled('div')`\n    flex: 0 0 auto;\n    width: 62px;\n`;\n\nexport const RightSide = styled('div')`\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    animation: ${slideIn} 0.3s ease forwards;\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Mobile/components/Slot/index.jsx","import React from 'react';\nimport {\n    connect,\n} from 'react-redux';\nimport styled, {\n    keyframes,\n} from 'styled-components';\nimport {\n    validateBuild,\n    facebookShare,\n    twitterShare,\n    vkShare,\n    shareLink,\n} from 'runeBuilder/helpers';\n\n\nimport Button from '../Button';\n\nconst animateIn = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n`;\n\n\nconst Block = styled('div')`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    animation: ${animateIn} 0.5s ease forwards;\n\n    ${props => props.fixed && `\n        padding: 10px 10px 10px 40px;\n        background: linear-gradient(90deg, transparent 0%, rgba(0, 0, 0, 0.4) 10%);\n        position: absolute;\n        bottom: 0;\n        right: 0;\n    `}\n`;\n\nconst ShareTitle = styled('h3')`\n    margin: 0;\n    color: #b5b4b2;\n    font-family: \"Spiegel\", sans-serif;\n    font-size: 12px;\n    font-weight: normal;\n`;\n\nconst ShareButton = Button.extend`\n    margin-left: 10px;\n`;\n\nconst ShareLink = ShareButton.withComponent('a');\n\nconst ShareSVG = styled('svg')`\n    fill: currentColor;\n\n    path {\n        fill: currentColor;\n    }\n`;\n\n\nclass Share extends React.Component {\n    render() {\n        const {\n            primary,\n            fixed,\n        } = this.props;\n\n        const config = validateBuild(this.props);\n\n        if (!config) {\n            return null;\n        }\n\n        const keystone = primary.slots[0].runes[primary.slots[0].choice];\n        const link = `${window.siteUrl}/${primary.id}-${keystone.runeId}?build=${config}`;\n\n        const handleFacebookShare = () => {\n            facebookShare(link);\n        };\n\n        const handleTwitterShare = () => {\n            twitterShare(link);\n        };\n\n        const handleVKShare = () => {\n            vkShare(link);\n        };\n\n        const handleShareLink = () => {\n            shareLink(link);\n        };\n\n        return (\n            <Block fixed={fixed}>\n                <ShareTitle>{window.i18n.runebuilder.share.title}</ShareTitle>\n                <ShareButton\n                    square\n                    onClick={handleFacebookShare}\n                    title={window.i18n.runebuilder.share.facebook}\n                >\n                    <ShareSVG width=\"16\" height=\"16\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z\" />\n                    </ShareSVG>\n                    <span className=\"u-sr-only\">{window.i18n.runebuilder.share.facebook}</span>\n                </ShareButton>\n                <ShareButton\n                    square\n                    onClick={handleTwitterShare}\n                    title={window.i18n.runebuilder.share.twitter}\n                >\n                    <ShareSVG width=\"16\" height=\"16\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z\" />\n                    </ShareSVG>\n                    <span className=\"u-sr-only\">{window.i18n.runebuilder.share.twitter}</span>\n                </ShareButton>\n                {window.language === 'ru' && (\n                    <ShareButton\n                        square\n                        onClick={handleVKShare}\n                        title={window.i18n.runebuilder.share.vk}\n                    >\n                        <ShareSVG width=\"18\" height=\"16\" viewBox=\"0 0 2048 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M1981 520q23 64-150 294-24 32-65 85-40 51-55 72t-30.5 49.5-12 42 13 34.5 32.5 43 57 53q4 2 5 4 141 131 191 221 3 5 6.5 12.5t7 26.5-.5 34-25 27.5-59 12.5l-256 4q-24 5-56-5t-52-22l-20-12q-30-21-70-64t-68.5-77.5-61-58-56.5-15.5q-3 1-8 3.5t-17 14.5-21.5 29.5-17 52-6.5 77.5q0 15-3.5 27.5t-7.5 18.5l-4 5q-18 19-53 22h-115q-71 4-146-16.5t-131.5-53-103-66-70.5-57.5l-25-24q-10-10-27.5-30t-71.5-91-106-151-122.5-211-130.5-272q-6-16-6-27t3-16l4-6q15-19 57-19l274-2q12 2 23 6.5t16 8.5l5 3q16 11 24 32 20 50 46 103.5t41 81.5l16 29q29 60 56 104t48.5 68.5 41.5 38.5 34 14 27-5q2-1 5-5t12-22 13.5-47 9.5-81 0-125q-2-40-9-73t-14-46l-6-12q-25-34-85-43-13-2 5-24 16-19 38-30 53-26 239-24 82 1 135 13 20 5 33.5 13.5t20.5 24 10.5 32 3.5 45.5-1 55-2.5 70.5-1.5 82.5q0 11-1 42t-.5 48 3.5 40.5 11.5 39 22.5 24.5q8 2 17 4t26-11 38-34.5 52-67 68-107.5q60-104 107-225 4-10 10-17.5t11-10.5l4-3 5-2.5 13-3 20-.5 288-2q39-5 64 2.5t31 16.5z\" />\n                        </ShareSVG>\n                        <span className=\"u-sr-only\">{window.i18n.runebuilder.share.vk}</span>\n                    </ShareButton>\n                )}\n                <ShareLink\n                    square\n                    href={link}\n                    target=\"_blank\"\n                    title={window.i18n.runebuilder.share.link}\n                    onClick={handleShareLink}\n                >\n                    <ShareSVG width=\"16\" height=\"16\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z\" />\n                    </ShareSVG>\n                    <span className=\"u-sr-only\">{window.i18n.runebuilder.share.link}</span>\n                </ShareLink>\n            </Block>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        paths: state.paths,\n        primary: state.primary,\n        secondary: state.secondary,\n    };\n}\n\n\nexport default connect(mapStateToProps)(Share);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/Share/index.jsx","import styled from 'styled-components';\n\n\nconst Button = styled('button')`\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    vertical-align: middle;\n    cursor: pointer;\n    padding: 11px 21px;\n    height: 60px;\n    max-width: 100%;\n    border: 0;\n    color: #c7b184;\n    fill: currentColor;\n    box-shadow: 0 0 28px #000;\n    font-family: \"Beaufort for LOL\", serif;\n    font-size: 16px;\n    line-height: 1;\n    font-weight: 500;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    position: relative;\n    z-index: 1;\n    transition: 0.3s;\n\n    &::before,\n    &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: -1;\n    }\n\n    &::before {\n        background: linear-gradient(0deg, #72542a 0%, #bd9e5e 100%);\n    }\n\n    &::after {\n        margin: 1px;\n        background: #16181d;\n        transition: inherit;\n    }\n\n    &:hover {\n        color: #fff;\n        text-decoration: none;\n        box-shadow:\n            0 0 28px #000,\n            0 0 28px rgba(#000, 0.6);\n\n        &::after {\n            background: #1a1d21;\n        }\n    }\n\n    ${props => props.square && `\n        padding: 0;\n        width: 34px;\n        height: 34px;\n        min-height: auto;\n    `}\n\n    & > svg {\n        margin: auto;\n    }\n`;\n\n\nexport default Button;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/Button/index.jsx","import React from 'react';\nimport styled, {\n    keyframes,\n} from 'styled-components';\n\n\nimport {\n    loadImage,\n} from 'runeBuilder/helpers';\n\n\nconst fadeIn = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n`;\n\n\nconst PreloadedImage = styled('img')`\n    animation: ${fadeIn} 0.25s ease forwards;\n`;\n\n\nexport default class Img extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            isLoaded: false,\n        };\n    }\n\n    componentDidMount() {\n        loadImage(this.props.src)\n            .then(() => {\n                this.setState({\n                    isLoaded: true,\n                });\n            })\n            .catch(() => {\n                console.log('no image');\n            });\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return this.props.src === nextProps.src;\n    }\n\n    render() {\n        if (!this.state.isLoaded) { return null; }\n\n        return <PreloadedImage {...this.props} />;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/PreloadedImage/index.jsx","import store from 'runeBuilder/store';\n\n/**\n * Dispatch event to set the primary path.\n * @param {string} path           slug of the path we're going to set as primary.\n * @param {number} firstRuneIndex If provided the index of the keystone we'll also set. (optional)\n */\nexport function setPrimary(path, firstRuneIndex) {\n    console.log('setPrimary', path, firstRuneIndex);\n    store.dispatch({\n        type: 'SET_PRIMARY',\n        data: {\n            path,\n            firstRuneIndex,\n        },\n    });\n}\n\n/**\n * [setSecondary description]\n * @param {string} path slug of the path we're going to set as secondary.\n */\nexport function setSecondary(path) {\n    store.dispatch({\n        type: 'SET_SECONDARY',\n        data: {\n            path,\n        },\n    });\n}\n\n/**\n * Set a rune in the primary path.\n * @param {number} slotIndex Index of the slot this rune is in.\n * @param {number} runeIndex Index of the rune to set\n */\nexport function setPrimaryRune(slotIndex, runeIndex) {\n    store.dispatch({\n        type: 'SET_PRIMARY_RUNE',\n        data: {\n            slotIndex,\n            runeIndex,\n        },\n    });\n}\n\n/**\n * Toggle open/closed a rune slot's drawer in the primary path.\n * @param  {number} slotIndex Index of the slot to open.\n */\nexport function togglePrimaryRuneDrawer(slotIndex) {\n    store.dispatch({\n        type: 'TOGGLE_PRIMARY_RUNE_DRAWER',\n        data: {\n            slotIndex,\n        },\n    });\n}\n/**\n * Set a rune in the secondary path. We don't need to know the slot in this case.\n * The secondary rune will be set based on which slot it's in.\n * @param {number} runeIndex Index of the rune to set\n */\nexport function setSecondaryRune(runeIndex) {\n    store.dispatch({\n        type: 'SET_SECONDARY_RUNE',\n        data: {\n            runeIndex,\n        },\n    });\n}\n\n/**\n * Toggle the path selector drawer for the secondary path.\n */\nexport function toggleSecondaryPathDrawer() {\n    store.dispatch({\n        type: 'TOGGLE_SECONDARY_PATH_DRAWER',\n        data: {},\n    });\n}\n\n/**\n * Open the rune drawer for the secondary path and set one of the available slots as active.\n * @param  {number} slotIndex Index of the slot we want the secondary path to be  trakcing.\n */\nexport function toggleSecondaryRuneDrawer(slotIndex) {\n    store.dispatch({\n        type: 'TOGGLE_SECONDARY_RUNE_DRAWER',\n        data: {\n            slotIndex,\n        },\n    });\n}\n\n\n// Clear the primary path\nexport function clearPrimary() {\n    store.dispatch({\n        type: 'CLEAR_PRIMARY',\n        data: {},\n    });\n}\n\n// Clear the secondary path\nexport function clearSecondary() {\n    store.dispatch({\n        type: 'CLEAR_SECONDARY',\n        data: {},\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/services/api/paths.js","import React from 'react';\nimport styled from 'styled-components';\nimport {\n    Power0,\n    TimelineLite,\n} from 'gsap';\n\n\nimport Flourish from 'runeBuilder/components/Flourish';\n\n\nconst Block = styled('div')`\n    opacity: 0;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    will-change: transform;\n`;\n\nconst Slide = styled('div')`\n    width: 100%;\n    height: 100%;\n    position: relative;\n    z-index: 5;\n`;\n\nconst Row = styled('div')`\n    display: flex;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    align-items: center;\n    height: 100%;\n`;\n\nconst RowItem = styled('div')`\n    flex: 0 0 auto;\n    display: flex;\n    justify-content: center;\n\n    ${props => props.columns && `\n        width: ${100 / props.columns}%;\n    `}\n`;\n\nconst BlurHolder = styled('div')`\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1;\n    pointer-events: none;\n    filter: blur(10px);\n`;\n\nconst Blur = styled('div')`\n    overflow: hidden;\n    height: 100%;\n    position: relative;\n`;\n\nconst BlurInner = styled('div')`\n    width: 100%;\n    height: 100%;\n    background: radial-gradient(ellipse closest-side at center, #ffdc7c 0%, rgba(255,220,124,0) 100%);\n    position: absolute;\n    left: -100%;\n`;\n\n\nexport default class Drawer extends React.Component {\n    componentDidMount() {\n        this.timing = 0.12;\n\n        this.animation = new TimelineLite({\n            paused: !this.props.isOpen,\n        })\n            .set(this.blurHolder, {\n                zIndex: 10,\n            })\n            .set(this.row.childNodes, {\n                opacity: 0,\n                x: -20,\n            })\n            .to(this.block, this.timing, {\n                opacity: 1,\n                visibility: 'visible',\n                ease: Power0.easeNone,\n            }, 0.05)\n            .to([\n                this.flourishTop,\n                this.flourishBottom,\n            ], (this.timing / 2), {\n                    color: '#c8aa6e',\n                    ease: Power0.easeNone,\n                })\n            .to([\n                this.flourishTop,\n                this.flourishBottom,\n            ], (this.timing / 2), {\n                    color: '#594620',\n                    ease: Power0.easeNone,\n                })\n            .to(this.blur, this.timing, {\n                x: '200%',\n                ease: Power0.easeNone,\n            }, `-=${this.timing}`)\n            .to([\n                this.flourishTop,\n                this.flourishBottom,\n            ], this.timing, {\n                width: '100%',\n                ease: Power0.easeNone,\n            }, `-=${this.timing}`)\n            .to([\n                this.flourishTop,\n                this.flourishBottom,\n            ], this.timing, {\n                width: '100%',\n                ease: Power0.easeNone,\n            }, `-=${this.timing}`)\n            .staggerTo(this.row.childNodes, 0.125, {\n                opacity: 1,\n                x: 0,\n                ease: Power0.easeNone,\n            }, (0.2 / this.row.childNodes.length), `-=${this.timing}`)\n            .set(this.blurHolder, {\n                zIndex: 0,\n            });\n    }\n\n    componentDidUpdate(prevProps) {\n        // Animate open the drawer if it wasn't open but is now.\n        if (this.props.isOpen && !prevProps.isOpen) {\n            window.requestAnimationFrame(() => {\n                this.animation.play();\n            });\n        }\n\n        // Animate close the drawer if it was open but isn't now.\n        if (!this.props.isOpen && prevProps.isOpen) {\n            window.requestAnimationFrame(() => {\n                this.animation.reverse();\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        this.animation.seek(0);\n        this.animation.kill();\n        this.animation = null;\n    }\n\n    render() {\n        const {\n            columns,\n            keystone,\n        } = this.props;\n\n        return (\n            <Block innerRef={(node) => { this.block = node; }}>\n\n                <BlurHolder innerRef={(node) => { this.blurHolder = node; }}>\n                    <Blur>\n                        <BlurInner innerRef={(node) => { this.blur = node; }} />\n                    </Blur>\n                </BlurHolder>\n\n                {!keystone && (\n                    <Flourish\n                        innerRef={(node) => { this.flourishTop = node; }}\n                        top={0}\n                    />\n                )}\n                {!keystone && (\n                    <Flourish\n                        innerRef={(node) => { this.flourishBottom = node; }}\n                        bottom={0}\n                    />\n                )}\n\n                <Slide innerRef={(node) => { this.slide = node; }}>\n                    <Row innerRef={(node) => { this.row = node; }}>\n                        {React.Children.map(this.props.children, child => (\n                            <RowItem columns={columns}>\n                                {child}\n                            </RowItem>\n                        ))}\n                    </Row>\n                </Slide>\n            </Block>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Drawer/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport * as Slot from '../Slot';\n\n\nconst Button = styled(Slot.Button)`\n    background: none;\n    border: 0;\n    box-shadow: none;\n    position: relative;\n`;\n\nconst Icon = styled(Slot.Icon)`\n    width: 36px;\n    height: 36px;\n`;\n\nconst Circles = styled('svg')`\n    margin: ${-64 / 2}px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 64px;\n    height: 64px;\n`;\n\nconst Circle1 = styled('circle')`\n    cx: 50%;\n    cy: 50%;\n    r: 43%;\n    fill: none;\n    stroke-width: 2;\n    transform: translateY(6%);\n    transform-origin: 50% 50%;\n`;\n\nconst Circle2 = styled(Circle1)`\n    transform: rotate(120deg) translateY(6%);\n`;\n\nconst Circle3 = styled(Circle1)`\n    transform: rotate(240deg) translateY(6%);\n`;\n\nconst Cup = styled('svg')`\n    overflow: visible;\n    width: 86px;\n    height: 86px;\n    position: absolute;\n    left: -19px;\n    bottom: -19px;\n`;\n\n\nconst PerkButton = ({ path, rings, ...props }) => {\n    const color = path.colors !== undefined ? path.colors.gradient.top : '#cdbe91';\n    const circlesId = `circle-gradient-${path.slug || 'default'}`;\n    const cupId = `cup-gradient-${path.slug || 'default'}`;\n    console.log(path.slug);\n    return (\n        <Button {...props}>\n            {rings !== false && (\n                <Circles>\n                    <linearGradient id={circlesId} x1=\"1\" y1=\"0.6\" x2=\"0\" y2=\"0\">\n                        <stop stopOpacity=\"1\" offset=\"0%\" stopColor={color} />\n                        <stop stopOpacity=\"0\" offset=\"70%\" stopColor={color} />\n                    </linearGradient>\n                    <Circle1 cx=\"50%\" cy=\"50%\" r=\"43%\" fill=\"none\" strokeWidth=\"2\" stroke={`url(#${circlesId})`} />\n                    <Circle2 cx=\"50%\" cy=\"50%\" r=\"43%\" fill=\"none\" strokeWidth=\"2\" stroke={`url(#${circlesId})`} />\n                    <Circle3 cx=\"50%\" cy=\"50%\" r=\"43%\" fill=\"none\" strokeWidth=\"2\" stroke={`url(#${circlesId})`} />\n                </Circles>\n            )}\n            {rings !== false && (\n                <Cup>\n                    <linearGradient id={cupId} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                        <stop stopOpacity=\"0\" offset=\"80%\" stopColor={color} />\n                        <stop stopOpacity=\"1\" offset=\"100%\" stopColor={color} />\n                    </linearGradient>\n                    <circle cx=\"42\" cy=\"42\" r=\"42\" fill=\"none\" strokeWidth=\"2\" stroke={`url(#${cupId})`} />\n                </Cup>\n            )}\n            {path.slug && <Icon src={path.icon} alt=\"\" />}\n        </Button>\n    );\n};\n\n\nexport default PerkButton;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/PathButton/index.jsx","import React from 'react';\nimport styled, {\n    keyframes,\n} from 'styled-components';\n\n\nconst pulse = keyframes`\n    from {\n        transform: translateY(-50%);\n    }\n`;\n\nconst Block = styled('div')`\n    height: ${props => `${(100 * props.total) - 39}px`};\n    position: absolute;\n    top: 89px;\n    left: 50%;\n`;\n\nconst Border = styled('div')`\n    margin-left: -7px;\n    width: 14px;\n    height: 100%;\n    padding: 2px;\n    border: 2px solid rgba(200,170,110,0.2);\n`;\n\nconst BarOuter = styled('div')`\n    overflow: hidden;\n    width: 6px;\n    height: 100%;\n    background: #1c1f21;\n`;\n\nconst BarHeight = styled('div')`\n    overflow: hidden;\n    height: 100%;\n    transform: translateY(${props => `${-100 * (props.total - props.current)}px`});\n    transition: transform 0.3s ease;\n`;\n\nconst BarInner = styled('div')`\n    width: 100%;\n    height: 200%;\n    background: #fff;\n`;\n\nconst BarHighlight = styled('div')`\n    width: 100%;\n    height: ${props => `${100 * props.total * 2}px`};\n    box-shadow: inset 0 0 3px #000;\n\n    ${props => props.isActive && `\n        background: linear-gradient(0deg, ${props.highlight} 0%, transparent 50%, ${props.highlight} 100%);\n        background-size: auto 100px;\n        animation: ${pulse} ${props.total * 0.5}s linear forwards infinite;\n        will-change: transform;\n    `}\n`;\n\n\nconst Progress = (props) => {\n    const {\n        path,\n        total,\n        current,\n        isActive,\n    } = props;\n\n    return (\n        <Block total={total}>\n            <Border>\n                <BarOuter>\n                    {path.hasPath !== false &&\n                        <BarHeight total={total} current={current}>\n                            <BarInner total={total}>\n                                <BarHighlight\n                                    total={total}\n                                    highlight={path.colors.gradient.bottom}\n                                    isActive={isActive}\n                                />\n                            </BarInner>\n                        </BarHeight>\n                    }\n                </BarOuter>\n            </Border>\n        </Block>\n    );\n};\n\nexport default Progress;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Progress/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nconst Button = styled('button')`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 48px;\n    height: 48px;\n    padding: 0;\n    border: 0;\n    background: #1e2328;\n    border-radius: 50%;\n    text-align: center;\n    position: relative;\n\n    ${props => props.small && `\n        width: 40px;\n        height: 40px;\n    `}\n`;\n\nconst Icon = styled('img')`\n    display: block;\n    margin: auto;\n    width: 42px;\n    height: 42px;\n    border-radius: 50%;\n\n    ${props => props.small && `\n        width: 36px;\n        height: 36px;\n    `}\n`;\n\nconst InnerIcon = styled('svg')`\n    margin: -24px;\n    width: 48px;\n    height: 48px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n\n    ${props => props.small && `\n        margin: -20px;\n        width: 40px;\n        height: 40px;\n    `}\n`;\n\n\nconst PathButton = (props) => {\n    const {\n        icon,\n        path,\n        small,\n        ...restProps\n    } = props;\n\n    return (\n        <Button {...restProps} small={small}>\n            {icon && <Icon src={icon} alt=\"\" small={small} />}\n            <InnerIcon viewBox=\"0 0 47 47\" small={small}>\n                <circle cx=\"23.5\" cy=\"23.5\" r=\"22.5\" strokeWidth=\"2\" fill=\"none\" stroke={icon ? `url(#gradient-${path.slug})` : 'url(#gradient-yuma-dallasLight)'} />\n            </InnerIcon>\n        </Button>\n    );\n};\n\nexport default PathButton;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Mobile/components/PathButton/index.jsx","import styled, {\n    keyframes,\n} from 'styled-components';\n\n\nconst appear = keyframes`\n    to {\n        opacity: 1;\n        transform: none;\n    }\n`;\n\nexport const Block = styled('div')`\n    padding-top: 22px;\n    opacity: 0;\n    transform: translateX(20px);\n    animation: ${appear} 0.2s 0.25s linear forwards;\n`;\n\nexport const Title = styled('div')`\n    margin-bottom: 3px;\n    color: ${props => props.color || '#f0e6d2'};\n    font-family: \"BeaufortforLOL-Medium\", sans-serif;\n    font-size: 14px;\n    line-height: 18px;\n    letter-spacing: 0.075em;\n    text-transform: uppercase;\n\n    ${props => props.flush && `\n        margin: 0;\n    `}\n\n    ${props => props.small && `\n        font-size: 12px;\n        line-height: 16px;\n    `}\n`;\n\nexport const P = styled('p')`\n    color: #a09b8c;\n    font-size: 12px;\n    line-height: 16px;\n    letter-spacing: 0.025em;\n    margin: 0 0 20px;\n\n    ${props => props.flush && `\n        margin: 0;\n    `}\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/Description/index.jsx","import React from 'react';\nimport { render } from 'react-dom';\nimport axios from 'axios';\nimport {\n    Provider,\n} from 'react-redux';\nimport findIndex from 'lodash/findIndex';\n\n\nimport {\n    assetPath,\n} from 'helpers';\n\n\nimport store from './store';\nimport paths from '../data/paths';\n\n\nimport App from './components/App';\n\n// Enable devtools. You can reduce the size of your app by only including this\n// module in development builds. eg. In Webpack, wrap this with an `if (module.hot) {...}`\n// check.\nif (process.env.NODE_ENV !== 'production') {\n    /* eslint-disable */\n    require('preact/devtools');\n    /* eslint-enable */\n}\n\n\nconst mountNode = document.querySelector('#app');\n\n\nif (mountNode) {\n    axios.get(assetPath(`/data/${window.language}/runes.json`))\n        .then((response) => {\n            let data = response.data.styles.map((path, pathIndex) => ({\n                ...paths[pathIndex],\n                ...path,\n            }));\n\n            data = [\n                data[2],\n                data[1],\n                data[3],\n                data[0],\n                data[4],\n            ];\n\n            if (process.env.NODE_ENV !== 'production') {\n                /**\n                 * This is a safety. This will alert you that a rune in the data doesn't have a\n                 * share page set up. These unfortunately have to be manual.\n                 */\n                const supportedShareRoutes = [\n                    '8000-8003',\n                    '8000-8008',\n                    '8000-8021',\n                    '8000-8101',\n                    '8100-8112',\n                    '8100-8124',\n                    '8100-8128',\n                    '8200-8214',\n                    '8200-8229',\n                    '8200-8230',\n                    '8300-8326',\n                    '8300-8351',\n                    '8300-8352',\n                    '8300-8353',\n                    '8300-8356',\n                    '8300-8359',\n                    '8400-8436',\n                    '8400-8437',\n                    '8400-8439',\n                ];\n\n                data.forEach((path) => {\n                    path.slots[0].runes.forEach((rune) => {\n                        const testRoute = `${path.id}-${rune.runeId}`;\n                        const test = findIndex(supportedShareRoutes, route => testRoute === route);\n                        if (test === -1) {\n                            console.log(testRoute, path.name, rune.name);\n                        }\n                    });\n                });\n            }\n\n            render(\n                <Provider store={store}>\n                    <App data={data} />\n                </Provider>,\n                mountNode\n            );\n        });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/index.jsx","import {\n    combineReducers,\n} from 'redux';\n\n\nimport paths from './paths';\nimport primary from './primary';\nimport secondary from './secondary';\nimport longDescriptions from './longDescriptions';\n\n\nexport default combineReducers({\n    paths,\n    primary,\n    secondary,\n    longDescriptions,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/reducers/index.js","const initialState = [];\n\n\nexport default function pathsReducer(state = initialState, { type, data }) {\n    switch (type) {\n        case 'ADD_PATHS':\n            return data.paths;\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/reducers/paths.js","import findIndex from 'lodash/findIndex';\n\n\nimport store from 'runeBuilder/store';\nimport {\n    pushToDataLayer,\n} from 'helpers';\n\nconst initialState = false;\n\n\nexport default function primaryReducer(state = initialState, { type, data }) {\n    switch (type) {\n        case 'SET_PRIMARY':\n        {\n            const {\n                paths,\n            } = store.getState();\n\n            const {\n                path,\n            } = data;\n\n            const primary = paths.find(p => p.slug === path);\n\n            const firstRuneIndex = typeof data.firstRuneIndex === 'number' ? data.firstRuneIndex : -1;\n            const openIndex = firstRuneIndex === -1 ? 0 : 1;\n\n            // Analytics Event\n            pushToDataLayer({\n                eventAction: 'RuneBuilder-PrimaryPath',\n                eventLabel: primary.slug,\n            });\n\n            return {\n                ...primary,\n                slots: primary.slots.map((runes, runesIndex) => ({\n                    runes: runes.runes,\n                    choice: runesIndex === 0 ? firstRuneIndex : -1,\n                    isOpen: runesIndex === openIndex,\n                })),\n            };\n        }\n        case 'ADD_PATHS':\n        {\n            const {\n                paths,\n                config,\n            } = data;\n\n            if (config === undefined || config.length !== 8) {\n                return state;\n            }\n\n            const path = paths[config[0]];\n\n            const primary = paths.find(p => p.slug === path.slug);\n\n            return {\n                ...primary,\n                slots: primary.slots.map((runes, runesIndex) => ({\n                    runes: runes.runes,\n                    choice: config[runesIndex + 1],\n                    isOpen: false,\n                })),\n            };\n        }\n        case 'SET_PRIMARY_RUNE':\n        {\n            const {\n                slotIndex,\n                runeIndex,\n            } = data;\n\n            const slot = {\n                ...state.slots[slotIndex],\n                choice: runeIndex,\n                isOpen: false,\n            };\n\n            let newState = {\n                ...state,\n                slots: [\n                    ...state.slots.slice(0, slotIndex),\n                    slot,\n                    ...state.slots.slice(slotIndex + 1),\n                ],\n            };\n\n            const nextSlotIndex = findIndex(newState.slots, s => s.choice === -1);\n\n            if (nextSlotIndex !== -1) {\n                newState = {\n                    ...newState,\n                    slots: [\n                        ...newState.slots.slice(0, nextSlotIndex),\n                        {\n                            ...newState.slots[nextSlotIndex],\n                            isOpen: true,\n                        },\n                        ...newState.slots.slice(nextSlotIndex + 1),\n                    ],\n                };\n            }\n\n            return newState;\n        }\n        case 'TOGGLE_PRIMARY_RUNE_DRAWER':\n        {\n            const {\n                slotIndex,\n                isOpen,\n            } = data;\n\n            const slot = {\n                ...state.slots[slotIndex],\n                isOpen: typeof isOpen === 'boolean' ? isOpen : !state.slots[slotIndex].isOpen,\n            };\n\n            return {\n                ...state,\n                slots: [\n                    ...state.slots.slice(0, slotIndex),\n                    slot,\n                    ...state.slots.slice(slotIndex + 1),\n                ],\n            };\n        }\n        case 'CLEAR_PRIMARY':\n            return false;\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/reducers/primary.js","import findIndex from 'lodash/findIndex';\n\nimport store from 'runeBuilder/store';\nimport {\n    pushToDataLayer,\n} from 'helpers';\n\n\nconst initialState = false;\n\n\nexport default function secondaryReducer(state = initialState, { type, data }) {\n    switch (type) {\n        case 'SET_PRIMARY':\n            return {\n                isOpen: false,\n                hasPath: false,\n                slots: false,\n            };\n        case 'SET_SECONDARY':\n        {\n            const {\n                paths,\n            } = store.getState();\n\n            const secondary = paths.find(path => path.slug === data.path);\n\n            // Analytics Event\n            pushToDataLayer({\n                eventAction: 'RuneBuilder-SecondaryPath',\n                eventLabel: secondary.slug,\n            });\n\n            return {\n                ...secondary,\n                isOpen: false,\n                hasPath: true,\n                slots: {\n                    runes: [\n                        ...secondary.slots[1].runes,\n                        ...secondary.slots[2].runes,\n                        ...secondary.slots[3].runes,\n                    ],\n                    slotIndex: 0,\n                    choices: [-1, -1],\n                    isOpen: true,\n                },\n            };\n        }\n        case 'ADD_PATHS':\n        {\n            const {\n                paths,\n                config,\n            } = data;\n\n            if (config === undefined || config.length !== 8) {\n                return state;\n            }\n\n            // We need to remove the primary path\n            const remainingPaths = [\n                ...paths.slice(0, config[0]),\n                ...paths.slice(config[0] + 1),\n            ];\n\n            const secondary = remainingPaths[config[5]];\n\n            return {\n                ...secondary,\n                isOpen: false,\n                hasPath: true,\n                slots: {\n                    runes: [\n                        ...secondary.slots[1].runes,\n                        ...secondary.slots[2].runes,\n                        ...secondary.slots[3].runes,\n                    ],\n                    slotIndex: 0,\n                    choices: [config[6], config[7]],\n                    isOpen: false,\n                },\n            };\n        }\n        case 'TOGGLE_SECONDARY_PATH_DRAWER':\n            return {\n                ...state,\n                isOpen: !state.isOpen,\n            };\n        case 'SET_SECONDARY_RUNE':\n        {\n            const {\n                slotIndex,\n            } = state.slots;\n\n            const choices = state.slots.choices;\n            const runeGroup = Math.floor(data.runeIndex / 3);\n            const groupMatch = findIndex(choices, choice => Math.floor(choice / 3) === runeGroup);\n\n            // we need to check to see if the the rune group matches a group\n            // of another choice slot.\n            const choiceIndex = groupMatch === -1 ? slotIndex : groupMatch;\n            choices[choiceIndex] = data.runeIndex;\n\n            let nextSlot = -1;\n\n            if (choices[0] === -1) {\n                nextSlot = 0;\n            } else if (choices[1] === -1) {\n                nextSlot = 1;\n            }\n\n            return {\n                ...state,\n                slots: {\n                    ...state.slots,\n                    choices,\n                    slotIndex: nextSlot,\n                    isOpen: nextSlot !== -1,\n                },\n            };\n        }\n        case 'TOGGLE_SECONDARY_RUNE_DRAWER':\n        {\n            const {\n                isOpen,\n            } = state.slots;\n\n            return {\n                ...state,\n                slots: {\n                    ...state.slots,\n                    slotIndex: data.slotIndex,\n                    isOpen: !isOpen,\n                },\n            };\n        }\n        case 'CLEAR_PRIMARY':\n        case 'CLEAR_SECONDARY':\n            return false;\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/reducers/secondary.js","const initialState = {\n    shift: false,\n    global: false,\n};\n\n\nexport default function descriptionReducer(state = initialState, { type, data }) {\n    switch (type) {\n        case 'SET_SHIFT_DESCRIPTIONS':\n            return {\n                ...state,\n                shift: data.shift,\n            };\n        case 'TOGGLE_GLOBAL_DESCTIPTIONS':\n            return {\n                ...state,\n                global: !state.global,\n            };\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/reducers/longDescriptions.js","import React from 'react';\nimport {\n    connect,\n} from 'react-redux';\nimport styled from 'styled-components';\nimport {\n    pushToDataLayer,\n} from 'helpers';\nimport {\n    validateBuild,\n} from 'runeBuilder/helpers';\n\n\nimport Desktop from 'runeBuilder/scenes/Desktop';\nimport Mobile from 'runeBuilder/scenes/Mobile';\nimport SVGGradients from './components/SVGGradients';\nimport ViewportSwitch from './components/ViewportSwitch';\n\n\nconst Block = styled('div')`\n\n    * {\n        outline: 0;\n    }\n\n    h1, h2, h3, h4, h5, h6 {\n        font-weight: bold;\n    }\n\n    a {\n        text-decoration: none;\n    }\n`;\n\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const {\n            data,\n        } = this.props;\n\n        // Check if there's a set runeBuilderConfig and\n        const config = window.runeBuilderConfig\n            && window.runeBuilderConfig.length === 8\n            && window.runeBuilderConfig.split('').map(Number);\n\n        props.addPaths(data, config);\n        this.buildCompleted = false;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const validatedBuild = validateBuild(nextProps);\n\n        if (!!validatedBuild && !this.buildCompleted) {\n            const event = {\n                eventAction: 'RuneBuilder-Completed',\n                eventLabel: validatedBuild,\n            };\n\n            pushToDataLayer(event);\n\n            this.buildCompleted = true;\n        } else {\n            this.buildCompleted = false;\n        }\n    }\n\n    render() {\n        const {\n            paths,\n        } = this.props;\n\n        return (\n            <Block>\n                <ViewportSwitch\n                    queryString=\"(min-width: 1061px)\"\n                    PassComponent={<Desktop paths={paths} />}\n                    FailComponent={<Mobile paths={paths} />}\n                />\n\n                <SVGGradients paths={paths} />\n            </Block>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        paths: state.paths,\n        primary: state.primary,\n        secondary: state.secondary,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const addPaths = (paths, config) => ({\n        type: 'ADD_PATHS',\n        data: {\n            paths,\n            config,\n        },\n    });\n\n    return {\n        addPaths: (paths, config) => dispatch(addPaths(paths, config)),\n    };\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/App/index.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport {\n    connect,\n} from 'react-redux';\n\nimport PathList from './components/PathList';\nimport RuneBuilder from './components/RuneBuilder';\n\n\nconst AppOuter = styled('div')`\n    margin: auto;\n    padding: 2px;\n    width: 100%;\n    max-width: 1061px;\n    height: 645px;\n    background: linear-gradient(0deg, #6c5021 0%, #ab8f57 100%);\n    box-shadow: 0 0 80px #000;\n    position: relative;\n`;\n\n\nconst AppInner = styled('div')`\n    width: 100%;\n    height: 100%;\n    background: #000;\n    font-size: 14px;\n    line-height: 1.5;\n`;\n\n\nconst Desktop = (props) => {\n    const {\n        paths,\n        primary,\n        secondary,\n    } = props;\n\n    return (\n        <AppOuter>\n            <AppInner id=\"perks-app\">\n                {!primary ?\n                    <PathList paths={paths} />\n                    :\n                    <RuneBuilder key={primary.id} primary={primary} secondary={secondary} />\n                }\n            </AppInner>\n        </AppOuter>\n    );\n};\n\n\nconst mapStateToProps = state => ({\n    primary: state.primary,\n    secondary: state.secondary,\n});\n\n\nexport default connect(mapStateToProps)(Desktop);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/index.jsx","import React from 'react';\nimport styled, {\n    keyframes,\n} from 'styled-components';\n\n\nimport Path from './components/Path';\n\nconst glow = keyframes`\n    0% {\n        filter: brightness(100%);\n    }\n    50% {\n        filter: brightness(170%);\n    }\n    100% {\n        filter: brightness(100%);\n    }\n`;\n\n\nexport const Paths = styled('div')`\n    display: flex;\n    align-items: stretch;\n    height: 100%;\n    background: #010a13;\n\n    & > * {\n        animation: ${glow} 2s ease infinite;\n\n        &:nth-child(2) {\n            animation-delay: 0.4s;\n        }\n        &:nth-child(3) {\n            animation-delay: 0.8s;\n        }\n        &:nth-child(4) {\n            animation-delay: 1.2s;\n        }\n        &:nth-child(5) {\n            animation-delay: 1.6s;\n        }\n    }\n\n    &:hover > * {\n        animation: none;\n    }\n`;\n\n\nconst PathList = (props) => {\n    const pathsData = Object.keys(props.paths).map(key => props.paths[key]);\n\n    return (\n        <Paths>\n            {pathsData.map(path => <Path key={path.name} path={path} />)}\n        </Paths>\n    );\n};\n\n\nexport default PathList;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/PathList/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport {\n    assetPath,\n} from 'helpers';\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport ToolTip from 'runeBuilder/components/ToolTip';\nimport * as Description from 'runeBuilder/components/Description';\n\n\nconst Block = styled('div')`\n    flex: 0 0 auto;\n    width: 20%;\n    height: 100%;\n    text-align: center;\n    position: relative;\n`;\n\nconst Perk = styled('div')`\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    box-shadow: 0 0 0 1px rgba(1,10,19,0.85);\n    position: relative;\n`;\n\nconst PerkBackground = styled('img')`\n    height: 639px;\n    width: 211px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: 0.1s ease-out;\n\n    ${Perk}:hover & {\n        filter: brightness(150%);\n    }\n`;\n\nconst PerkButtonOverlay = styled('button')`\n    border: 0;\n    background: none;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n`;\n\nconst PathIconWrap = styled('div')`\n    position: relative;\n    width: 100%;\n    height: 246px;\n    margin-top: 40px;\n    margin-bottom: 46px;\n`;\n\nconst PathIcon = styled('img')`\n    display: block;\n    background: url(\"${assetPath('/img/runeBuilder/assets/ring.png')}\") center no-repeat;\n    margin: 0;\n    opacity: 0.7;\n    transition: filter 0.15s ease-out;\n\n    ${Perk}:hover & {\n        opacity: 1;\n        filter: grayscale(0%);\n    }\n`;\n\nconst PathVFX = styled('img')`\n    margin: 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    transition: opacity 0.25s ease-out;\n\n    ${Perk}:hover & {\n        opacity: 1;\n    }\n`;\n\nconst PathBody = styled('div')`\n    color: #ddd;\n    font-size: 10px;\n    letter-spacing: 0.075em;\n    line-height: 14px;\n    opacity: 0.2;\n    transition: opacity 0.15s ease-out;\n\n    ${Perk}:hover & {\n        opacity: 1;\n    }\n`;\n\nconst PathHeader = styled('header')`\n    width: 100%;\n    text-transform: uppercase;\n    position: absolute;\n    top: 199px;\n    left: 0;\n`;\n\nconst PathTitle = styled('div')`\n    color: #727271;\n    font-family: \"BeaufortforLOL-Medium\", sans-serif;\n    font-size: 16px;\n    letter-spacing: 0.15em;\n    line-height: 19.2px;\n    margin-bottom: 4px;\n`;\n\nconst PathFooter = styled(PathBody)`\n    margin: 46px 0 0;\n    padding: 0 22px;\n    width: 100%;\n    font-size: 11px;\n    font-weight: 400;\n    letter-spacing: 0.05em;\n`;\n\nconst KeyStones = styled('div')`\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-between;\n    position: relative;\n    z-index: 10;\n`;\n\nconst KeyStone = styled('div')`\n    flex: auto 0 0;\n    width: 50%;\n    text-align: center;\n    position: relative;\n    z-index: 1;\n\n    &:nth-child(3) {\n        width: 100%;\n    }\n`;\n\nconst KeyStoneImg = styled('img')`\n    border-radius: 32px;\n    width: 62px;\n    height: 62px;\n    cursor: pointer;\n`;\n\n\nconst ToolTipContent = ({ rune }) => (\n    <div>\n        <Description.Title>{rune.name}</Description.Title>\n        <Description.P dangerouslySetInnerHTML={{ __html: rune.longDescription }} />\n    </div>\n);\n\n\nconst Path = ({ path }) => {\n    const setPrimary = () => {\n        pathsAPI.setPrimary(path.slug);\n    };\n\n    return (\n        <Block key={path.name} onClick={setPrimary}>\n            <Perk>\n                <PerkBackground src={assetPath('/img/runeBuilder/assets/lines.png')} alt=\"\" />\n                <PerkBackground src={path.landing.glow} alt=\"\" />\n\n                <PathIconWrap>\n                    <PathIcon src={path.landing.icon} alt=\"\" />\n                    <PathVFX src={path.landing.vfx} alt=\"\" />\n\n                    <PathHeader>\n                        <PathTitle>{path.name}</PathTitle>\n                        <PathBody>{path.slogan}</PathBody>\n                    </PathHeader>\n                </PathIconWrap>\n\n                <PerkButtonOverlay onClick={setPrimary} />\n\n                <KeyStones>\n                    {path.slots[0].runes.map((rune, runeIndex) => {\n                        const setPrimaryAndRune = (event) => {\n                            event.stopPropagation();\n                            console.log('setPrimaryAndRune');\n                            pathsAPI.setPrimary(path.slug, runeIndex);\n                        };\n\n                        const content = <ToolTipContent rune={rune} />;\n\n                        return (\n                            <KeyStone key={`keystone-${path.slug}`} onClick={setPrimaryAndRune}>\n                                <ToolTip content={content}>\n                                    <KeyStoneImg src={assetPath(`/img/runeBuilder/runes/108x108/${rune.runeId}.png`)} alt=\"\" />\n                                </ToolTip>\n                            </KeyStone>\n                        );\n                    })}\n                </KeyStones>\n\n                <PathFooter>{path.description}</PathFooter>\n\n            </Perk>\n        </Block>\n    );\n};\n\nexport default Path;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/PathList/components/Path/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport Share from 'runeBuilder/components/Share';\nimport Reset from 'runeBuilder/components/Reset';\nimport Backdrop from './components/Backdrop';\nimport Options from './components/Options';\nimport PrimaryPath from './components/PrimaryPath';\nimport SecondaryPath from './components/SecondaryPath';\n\n\nconst PathBlock = styled('div')`\n    height: 100%;\n    background-color: #010a13;\n    position: relative;\n    z-index: 1;\n`;\n\nconst PathBody = styled('div')`\n    padding: 30px 0 0 35px;\n    display: flex;\n    position: relative;\n    z-index: 1;\n`;\n\nconst PathColumn = styled('div')`\n    flex: 0 0 auto;\n    padding-top: 55px;\n    margin-right: 50px;\n    width: 275px;\n    position: relative;\n`;\n\n\nconst RuneBuilder = (props) => {\n    const {\n        primary,\n        secondary,\n    } = props;\n\n    return (\n        <PathBlock>\n\n            <Backdrop primary={primary} secondary={secondary} />\n\n            <PathBody>\n                <PathColumn>\n                    <PrimaryPath />\n                </PathColumn>\n\n                <PathColumn>\n                    <SecondaryPath />\n                </PathColumn>\n\n            </PathBody>\n\n            <Options />\n\n            <Share fixed />\n\n            <Reset fixed />\n\n        </PathBlock>\n    );\n};\n\n\nexport default RuneBuilder;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport Button from 'runeBuilder/components/Button';\n\n\nconst Block = styled('div')`\n    ${props => props.fixed && `\n        padding: 10px 10px 10px 40px;\n        position: absolute;\n        top: 0;\n        right: 0;\n    `}\n`;\n\n\nconst Reset = ({ fixed }) => (\n    <Block fixed={fixed}>\n        <Button square onClick={pathsAPI.clearPrimary} title={window.i18n.runebuilder.reset}>\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188 35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z\" /></svg>\n            <span className=\"u-sr-only\">\n                {window.i18n.runebuilder.reset}\n            </span>\n        </Button>\n    </Block>\n);\n\n\nexport default Reset;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/Reset/index.jsx","import React from 'react';\nimport styled, {\n    keyframes,\n} from 'styled-components';\n\n\nimport {\n    loadImage,\n} from 'runeBuilder/helpers';\n\n\nimport PreloadedImage from 'runeBuilder/components/PreloadedImage';\n\n\nconst fadeIn = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n`;\n\nconst Block = styled('div')`\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    opacity: 0;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 0;\n    pointer-events: none;\n    user-select: none;\n    will-change: transform;\n    transition: 0.3s;\n\n    ${props => props.isLoaded && `\n        opacity: 1;\n    `}\n\n    &::after {\n        content: '';\n        display: block;\n        width: 1055px;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        left: 0;\n        background: linear-gradient(90deg, rgba(1,10,19,0.3) 0%, rgba(1,10,19,0.3) 55%, transparent 100%);\n    }\n`;\n\n\nconst Environment = styled('img')`\n    margin: 0;\n    display: block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n`;\n\nconst Splash = styled(PreloadedImage)`\n    display: block;\n    margin: 0;\n    position: absolute;\n    bottom: 0;\n    right: -107px;\n    z-index: 1;\n`;\n\nconst Construct = styled('img')`\n    margin: 0;\n    display: block;\n    position: absolute;\n    bottom: 0;\n    right: -107px;\n    z-index: 2;\n`;\n\nconst Keystone = styled(PreloadedImage)`\n    margin: 0;\n    display: block;\n    position: absolute;\n    bottom: 30px;\n    right: -55px;\n    z-index: 3;\n    animation: ${fadeIn} 0.25s ease forwards;\n`;\n\n\nexport default class Backdrop extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoaded: false,\n        };\n    }\n\n    componentDidMount() {\n        const {\n            primary,\n        } = this.props;\n\n        const preload = [\n            loadImage(`${primary.construct}/environment.png`),\n            loadImage(`${primary.construct}/construct.png`),\n        ];\n\n        Promise.all(preload)\n            .then(() => {\n                this.setState({\n                    isLoaded: true,\n                });\n            });\n    }\n\n    render() {\n        const {\n            primary,\n            secondary,\n        } = this.props;\n\n        const keystoneChoice = primary.slots[0].choice;\n        const keystone = keystoneChoice !== -1 && primary.slots[0].runes[keystoneChoice];\n\n        return (\n            <Block isLoaded={this.state.isLoaded}>\n                <Environment src={`${primary.construct}/environment.png`} alt=\"\" width=\"1162\" height=\"720\" />\n                {secondary.id && <Splash key={`splash-${secondary.id}`} src={`${primary.construct}/second/${secondary.id}.png`} alt=\"\" width=\"700\" height=\"670\" />}\n                <Construct src={`${primary.construct}/construct.png`} alt=\"\" width=\"700\" height=\"720\" />\n                {keystone && <Keystone key={`keystone-${keystoneChoice}`} src={`${primary.construct}/keystones/${keystone.runeId}.png`} alt=\"\" width=\"600\" height=\"670\" />}\n            </Block>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Backdrop/index.jsx","import React from 'react';\nimport {\n    connect,\n} from 'react-redux';\nimport styled from 'styled-components';\nimport {\n    assetPath,\n} from 'helpers';\n\n\nimport * as descriptionsAPI from 'runeBuilder/services/api/descriptions';\n\n\nconst Block = styled('div')`\n    position: absolute;\n    bottom: 20px;\n    left: 30px;\n`;\n\nconst Label = styled('label')`\n    color: #a09b8c;\n    font-size: 12px;\n    font-weight: normal;\n    line-height: 16px;\n    letter-spacing: 0.025em;\n\n    &:hover {\n        color: #f0e6d2;\n    }\n`;\n\nconst Input = styled('input')`\n    display: none;\n`;\n\nconst InputMask = styled('span')`\n    margin-right: 7px;\n    display: inline-block;\n    vertical-align: middle;\n    width: 14px;\n    height: 14px;\n    background: url(\"${assetPath('/img/global/checkbox-sprite.png')}\");\n    position: relative;\n    top: -1px;\n\n    ${Label}:hover & {\n        background-position: 0 -14px;\n    }\n\n    ${Input}:checked + & {\n        background-position: 0 -28px;\n    }\n\n    ${Label}:hover ${Input}:checked + & {\n        background-position: 0 -42px;\n    }\n`;\n\n\nclass Options extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.longDescriptions = this.props.longDescriptions;\n\n        this.handleKeyDown = (event) => {\n            if (event.keyCode === 16) {\n                descriptionsAPI.setShift(true);\n            }\n        };\n\n        this.handleKeyUp = (event) => {\n            if (event.keyCode === 16) {\n                descriptionsAPI.setShift(false);\n            }\n        };\n\n        this.handleChange = (event) => {\n            event.preventDefault();\n            descriptionsAPI.toggleGlobal();\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown);\n        window.addEventListener('keyup', this.handleKeyUp);\n    }\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n        window.addEventListener('keyup', this.handleKeyUp);\n    }\n\n    render() {\n        const {\n            longDescriptions,\n        } = this.props;\n\n        return (\n            <Block>\n                <Label htmlFor=\"descriptions-checkbox\">\n                    <Input\n                        id=\"descriptions-checkbox\"\n                        type=\"checkbox\"\n                        checked={longDescriptions.global || longDescriptions.shift}\n                        onChange={this.handleChange}\n                    />\n                    <InputMask />\n                    <span>{window.i18n.runebuilder.showDetailedDescriptions}</span>\n                </Label>\n            </Block>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        longDescriptions: state.longDescriptions,\n    };\n}\n\n\nexport default connect(mapStateToProps)(Options);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Options/index.jsx","import store from 'runeBuilder/store';\n\n\n/**\n * Set the shift button as active/inactive so react can render different content.\n * @param {boolean} shift The value to set.\n */\nexport function setShift(shift) {\n    store.dispatch({\n        type: 'SET_SHIFT_DESCRIPTIONS',\n        data: {\n            shift,\n        },\n    });\n}\n\n/**\n * Toggle a global forced value for the descriptions. This will override the shift value.\n */\nexport function toggleGlobal() {\n    store.dispatch({\n        type: 'TOGGLE_GLOBAL_DESCTIPTIONS',\n        data: {},\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/services/api/descriptions.js","import React from 'react';\nimport {\n    connect,\n} from 'react-redux';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport KeyStoneSlot from './components/KeyStoneSlot';\nimport Slot from '../Slot';\n\n\nconst PrimaryPath = ({ primary }) => {\n    const sharedProps = {\n        path: primary,\n        toggleDrawer: pathsAPI.togglePrimaryRuneDrawer,\n        setRune: pathsAPI.setPrimaryRune,\n    };\n\n    return (\n        <section id=\"primary-path\">\n\n            <KeyStoneSlot {...sharedProps} />\n\n            <Slot\n                slot={primary.slots[0]}\n                keystone\n                slotIndex={0}\n                selectText={window.i18n.runebuilder.selectKeystone}\n                {...sharedProps}\n            />\n\n            <Slot\n                slot={primary.slots[1]}\n                slotIndex={1}\n                selectText={window.i18n.runebuilder.selectGreater}\n                {...sharedProps}\n            />\n\n            <Slot\n                slot={primary.slots[2]}\n                slotIndex={2}\n                {...sharedProps}\n            />\n\n            <Slot\n                slot={primary.slots[3]}\n                slotIndex={3}\n                {...sharedProps}\n            />\n\n        </section>\n    );\n};\n\n\nconst mapStateToProps = state => ({\n    primary: state.primary,\n});\n\n\nexport default connect(mapStateToProps)(PrimaryPath);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/PrimaryPath/index.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport findIndex from 'lodash/findIndex';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport * as Description from 'runeBuilder/components/Description';\nimport TruncatedText from 'runeBuilder/components/TruncatedText';\nimport * as Slot from '../../../Slot';\nimport PathButton from '../../../PathButton';\nimport Progress from '../../../Progress';\n\n\nconst Title = styled(Description.Title)`\n    font-size: 18px;\n    line-height: 22px;\n`;\n\n\nconst KeyStoneSlot = ({ path }) => {\n    const total = path.slots.length;\n    const currentSlot = findIndex(path.slots, slot => slot.choice === -1);\n    const isActive = currentSlot !== -1;\n    const current = currentSlot === -1 ? total : currentSlot + 1;\n\n    return (\n        <Slot.Block>\n            <Slot.LeftSide>\n\n                <Progress path={path} total={total} current={current} isActive={isActive} />\n\n                <PathButton path={path} onClick={pathsAPI.clearPrimary} />\n\n            </Slot.LeftSide>\n            <Slot.RightSide>\n                <Description.Block animate={false}>\n                    <Title color={path.colors.title}>{path.name}</Title>\n                    <TruncatedText>\n                        <Description.P dangerouslySetInnerHTML={{ __html: path.description }} />\n                    </TruncatedText>\n                </Description.Block>\n            </Slot.RightSide>\n        </Slot.Block>\n    );\n};\n\n\nexport default KeyStoneSlot;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/PrimaryPath/components/KeyStoneSlot/index.jsx","import React from 'react';\nimport styled, {\n    keyframes,\n} from 'styled-components';\n\n\nconst spin = keyframes`\n    to {\n        transform: rotate(360deg);\n    }\n`;\n\n\nconst SVG = styled('svg')`\n    width: 100%;\n    height: 100%;\n    opacity: ${props => (props.isActive ? '1' : '0')};\n    visibility: ${props => (props.isActive ? 'visible' : 'hidden')};\n    pointer-events: none;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: opacity 0.2s;\n    filter: blur(1px);\n    animation: ${spin} 2s linear forwards infinite;\n`;\n\n\nconst Spinner = ({ keystone, isActive }) => (\n    <SVG isActive={isActive}>\n        <path\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeWidth=\"2px\"\n            stroke=\"url(#gradient-white-transparent)\"\n            // We need a different svg path depending on if it's a keysone or\n            // not.\n            d={keystone ? 'M 31 1 A 30 30 0 0 0 31 61' : 'M 23.5 1 A 22.5 22.5 0 0 0 23.5 46'}\n        />\n        <ellipse cx=\"50%\" cy=\"1px\" fill=\"#fff\" rx=\"5\" ry=\"2\" />\n    </SVG>\n);\n\n\nexport default Spinner;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/Spinner/index.jsx","import React from 'react';\nimport {\n    connect,\n} from 'react-redux';\n\n\nconst RuneDescription = ({ rune, longDescriptions }) => {\n    const showLong = longDescriptions.global || longDescriptions.shift;\n    const description = showLong ? rune.longDescription : rune.shortDescription;\n\n    return (\n        <p dangerouslySetInnerHTML={{ __html: description }} />\n    );\n};\n\n\nfunction mapStateToProps(state) {\n    return {\n        longDescriptions: state.longDescriptions,\n    };\n}\n\n\nexport default connect(mapStateToProps)(RuneDescription);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/RuneDescription/index.jsx","import React from 'react';\nimport {\n    connect,\n} from 'react-redux';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport PathSlot from './components/PathSlot';\nimport RuneChooser from './components/RuneChooser';\nimport EmptySlot from './components/EmptySlot';\n\n\nconst SecondaryPath = ({ paths, primary, secondary }) => (\n    <section id=\"secondary-path\">\n\n        <PathSlot\n            paths={paths}\n            secondary={secondary}\n            primary={primary}\n        />\n\n        {secondary.hasPath ? (\n            <RuneChooser key={secondary.title} secondary={secondary} />\n        ) : (\n            <div key=\"empty-slots\">\n                <EmptySlot />\n                <EmptySlot />\n            </div>\n        )}\n\n    </section>\n);\n\n\nconst mapStateToProps = state => ({\n    paths: state.paths,\n    primary: state.primary,\n    secondary: state.secondary,\n});\n\n\nexport default connect(mapStateToProps)(SecondaryPath);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport ToolTip from 'runeBuilder/components/ToolTip';\nimport * as Description from 'runeBuilder/components/Description';\nimport * as Slot from '../../../Slot';\nimport Progress from '../../../Progress';\nimport Drawer from '../../../Drawer';\nimport PathButton from '../../../PathButton';\n\n\nconst PathOptionButton = styled('button')`\n    width: 48px;\n    height: 48px;\n    background: none;\n    border: 0;\n    padding: 0;\n`;\n\nconst PathIcon = styled('img')`\n    display: block;\n    margin: 0 auto;\n    width: 26px;\n    height: 26px;\n`;\n\nconst Hr = styled('hr')`\n    margin: 6px 0;\n    width: 100%;\n    border: 0;\n    background: #515250;\n    height: 1px;\n`;\n\n\nconst ToolTipContent = ({ setBonus }) => (\n    <div>\n        <Description.Title small>{setBonus.name}</Description.Title>\n        <Description.P flush>{setBonus.name}</Description.P>\n        <Hr />\n        <Description.P\n            dangerouslySetInnerHTML={{\n                __html: setBonus.value,\n            }}\n        />\n    </div>\n);\n\n\nexport default class PathSlot extends React.Component {\n    componentDidUpdate() {\n        const {\n            primary,\n            secondary,\n        } = this.props;\n\n        if (!secondary.isOpen && !secondary.hasPath) {\n            const remainingPrimaryChoices = primary.slots\n                .filter(rune => rune.choice === -1).length;\n\n            if (remainingPrimaryChoices === 0) {\n                pathsAPI.toggleSecondaryPathDrawer();\n            }\n        }\n    }\n\n    render() {\n        const {\n            paths,\n            primary,\n            secondary,\n        } = this.props;\n\n        const remainingPaths = Object.values(paths).filter(path => path.name !== primary.name);\n\n        const total = 2;\n        const isActive = secondary.slots.choices && secondary.slots.choices[1] === -1;\n        const current = secondary.slots.choices && (secondary.slots.choices[0] !== -1 ? 2 : 1);\n\n        return (\n            <Slot.Block>\n                <Slot.LeftSide>\n\n                    <Progress\n                        path={secondary}\n                        total={total}\n                        current={current}\n                        isActive={isActive}\n                    />\n\n                    <PathButton path={secondary} onClick={pathsAPI.toggleSecondaryPathDrawer} />\n\n                </Slot.LeftSide>\n                <Slot.RightSide>\n\n                    {!secondary.isOpen && (\n                        <div>\n                            {secondary.icon ? (() => {\n                                const setBonus = primary.bonuses\n                                    .find(bonus => bonus.name.indexOf(secondary.name) !== -1);\n\n                                return (\n                                    <Description.Block key={setBonus.title} animate>\n                                        <Description.Title color={secondary.colors.title} small>\n                                            {secondary.name}\n                                        </Description.Title>\n                                        <Description.P\n                                            dangerouslySetInnerHTML={{\n                                                __html: setBonus.value,\n                                            }}\n                                        />\n                                    </Description.Block>\n                                );\n                            })() : (\n                                <Description.Block key=\"choose-path\">\n                                    <Description.Title small>\n                                        {window.i18n.runebuilder.secondary.selectSecondary}\n                                    </Description.Title>\n                                </Description.Block>\n                            )}\n                        </div>\n                    )}\n\n                    <Drawer isOpen={secondary.isOpen} columns={4}>\n                        {remainingPaths.map((choice) => {\n                            const setBonus = primary.bonuses\n                                .find(bonus => bonus.name.indexOf(choice.name) !== -1);\n\n                            if (setBonus === undefined) {\n                                console.warn(`PathSlot couldn't find a setBouns for ${choice.name} in ${primary.name}`);\n                                return null;\n                            }\n\n                            const setSecondary = () => {\n                                pathsAPI.setSecondary(choice.slug);\n                            };\n\n                            return (\n                                <ToolTip key={choice.name} content={setBonus && <ToolTipContent setBonus={setBonus} />}>\n                                    <PathOptionButton onClick={setSecondary}>\n                                        <PathIcon src={choice.icon} alt=\"\" />\n                                    </PathOptionButton>\n                                </ToolTip>\n                            );\n                        })}\n                    </Drawer>\n                </Slot.RightSide>\n            </Slot.Block>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/PathSlot/index.jsx","import React from 'react';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport PerkButtonWithTooltip from '../../../PerkButtonWithTooltip';\nimport * as Slot from '../../../Slot';\nimport RuneSlot from './components/RuneSlot';\nimport RuneDrawer from './components/RuneDrawer';\n\n\nconst toggleSecondaryRuneDrawer0 = () => {\n    pathsAPI.toggleSecondaryRuneDrawer(0);\n};\n\nconst toggleSecondaryRuneDrawer1 = () => {\n    pathsAPI.toggleSecondaryRuneDrawer(1);\n};\n\n\nexport default class PathSlot extends React.Component {\n    render() {\n        const {\n            secondary,\n        } = this.props;\n\n        const {\n            runes,\n            choices,\n            slotIndex,\n            isOpen,\n        } = secondary.slots;\n\n        const rune1 = runes[choices[0]];\n        const rune2 = runes[choices[1]];\n\n        return (\n            <div>\n                <Slot.Block>\n                    <Slot.LeftSide>\n                        <PerkButtonWithTooltip\n                            rune={rune1}\n                            path={secondary}\n                            isActive={isOpen && slotIndex === 0}\n                            onClick={toggleSecondaryRuneDrawer0}\n                        />\n                    </Slot.LeftSide>\n                    <Slot.RightSide>\n                        <RuneDrawer key={secondary.name} path={secondary} isOpen={isOpen} />\n                        {!isOpen && <RuneSlot rune={rune1} path={secondary} />}\n                    </Slot.RightSide>\n                </Slot.Block>\n\n                <Slot.Block>\n                    <Slot.LeftSide>\n                        <PerkButtonWithTooltip\n                            rune={rune2}\n                            path={secondary}\n                            isActive={isOpen && slotIndex === 1}\n                            onClick={toggleSecondaryRuneDrawer1}\n                        />\n                    </Slot.LeftSide>\n\n                    <Slot.RightSide>\n                        {!isOpen && <RuneSlot rune={rune2} path={secondary} />}\n                    </Slot.RightSide>\n\n                </Slot.Block>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/RuneChooser/index.jsx","import React from 'react';\n\n\nimport * as Description from 'runeBuilder/components/Description';\nimport TruncatedText from 'runeBuilder/components/TruncatedText';\n\n\nconst RuneSlot = ({ rune, path }) => {\n    if (!rune) {\n        return (\n            <Description.Block key=\"choose-rune2\">\n                <Description.Title small color={path.colors.title}>\n                    {window.i18n.runebuilder.secondary.selectSecondary}\n                </Description.Title>\n            </Description.Block>\n        );\n    }\n\n    return (\n        <Description.Block key=\"rune2\">\n            <Description.Title small color={path.colors.title}>\n                {rune.name}\n            </Description.Title>\n            <TruncatedText>\n                <Description.P\n                    dangerouslySetInnerHTML={{\n                        __html: rune.shortDescription,\n                    }}\n                />\n            </TruncatedText>\n        </Description.Block>\n    );\n};\n\n\nexport default RuneSlot;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/RuneChooser/components/RuneSlot/index.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport {\n    Power0,\n    TimelineLite,\n} from 'gsap';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport Flourish from 'runeBuilder/components/Flourish';\nimport PerkButtonWithTooltip from '../../../../../PerkButtonWithTooltip';\n\n\nconst Block = styled('div')`\n    opacity: 0;\n    visibility: hidden;\n    width: 200px;\n    height: 220px;\n    position: absolute;\n    top: -10px;\n    left: 0;\n    z-index: 100;\n`;\n\nconst Row = styled('div')`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    width: 100%;\n    height: 100%;\n`;\n\nconst Item = styled('div')`\n    flex-basis: ${100 / 3}%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\n\nexport default class RuneDrawer extends React.Component {\n    componentDidMount() {\n        this.timing = 0.12;\n\n        this.animation = new TimelineLite({\n            paused: !this.props.isOpen,\n        })\n            .set(this.row.childNodes, {\n                opacity: 0,\n                x: -20,\n            })\n            .to(this.block, this.timing, {\n                opacity: 1,\n                visibility: 'visible',\n                ease: Power0.easeNone,\n            }, 0.05)\n            .to([\n                this.flourishTop,\n                this.flourishBottom,\n            ], (this.timing / 2), {\n                    color: '#c8aa6e',\n                    ease: Power0.easeNone,\n                }, `-=${this.timing}`)\n            .to([\n                this.flourishTop,\n                this.flourishBottom,\n            ], (this.timing / 2), {\n                    color: '#594620',\n                    ease: Power0.easeNone,\n                })\n            .to([\n                this.flourishTop,\n                this.flourishBottom,\n            ], this.timing, {\n                width: '100%',\n                ease: Power0.easeNone,\n            }, `-=${this.timing}`)\n            .to([\n                this.flourishTop,\n                this.flourishBottom,\n            ], this.timing, {\n                width: '100%',\n                ease: Power0.easeNone,\n            }, `-=${this.timing}`)\n            .staggerTo(this.row.childNodes, 0.125, {\n                opacity: 1,\n                x: 0,\n                ease: Power0.easeNone,\n            }, (0.2 / this.row.childNodes.length), `-=${this.timing}`);\n    }\n\n    componentDidUpdate(prevProps) {\n        // Animate open the drawer if it wasn't open but is now.\n        if (this.props.isOpen && !prevProps.isOpen) {\n            window.requestAnimationFrame(() => {\n                this.animation.play();\n            });\n        }\n\n        // Animate close the drawer if it was open but isn't now.\n        if (!this.props.isOpen && prevProps.isOpen) {\n            window.requestAnimationFrame(() => {\n                this.animation.reverse();\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        this.animation.seek(0);\n        this.animation.kill();\n        this.animation = null;\n    }\n\n    render() {\n        const {\n            path,\n        } = this.props;\n\n        const {\n            runes,\n            choices,\n        } = path.slots;\n\n        const [\n            choice1,\n            choice2,\n        ] = choices;\n\n        const rune1Group = Math.floor(choice1 / 3);\n        const rune2Group = Math.floor(choice2 / 3);\n\n        return (\n            <Block innerRef={(node) => { this.block = node; }}>\n                <Row innerRef={(node) => { this.row = node; }}>\n                    {runes.map((rune, runeIndex) => {\n                        const setSecondaryRune = () => {\n                            pathsAPI.setSecondaryRune(runeIndex);\n                        };\n\n                        const runeGroupNumber = Math.floor(runeIndex / 3);\n                        const inRuneGroup1 = runeGroupNumber === rune1Group;\n                        const inRuneGroup2 = runeGroupNumber === rune2Group;\n                        const runeGroup = inRuneGroup1 || inRuneGroup2;\n\n                        const isChosen = runeGroup && runeIndex !== choice1 && runeIndex !== choice2;\n\n                        return (\n                            <Item key={rune.name}>\n                                <PerkButtonWithTooltip\n                                    rune={rune}\n                                    path={path}\n                                    onClick={setSecondaryRune}\n                                    isChosen={isChosen}\n                                />\n                            </Item>\n                        );\n                    })}\n                </Row>\n\n                <Flourish\n                    innerRef={(node) => { this.flourishTop = node; }}\n                    top={72}\n                />\n\n                <Flourish\n                    innerRef={(node) => { this.flourishBottom = node; }}\n                    bottom={72}\n                />\n\n            </Block>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/RuneChooser/components/RuneDrawer/index.jsx","import React from 'react';\n\n\nimport PerkButton from 'runeBuilder/components/PerkButton';\nimport * as Description from 'runeBuilder/components/Description';\nimport * as Slot from '../../../Slot';\n\n\nconst EmptySlot = () => (\n    <Slot.Block>\n        <Slot.LeftSide>\n            <PerkButton isDisabled />\n        </Slot.LeftSide>\n        <Slot.RightSide>\n            <Description.Block>\n                <Description.Title small>\n                    {window.i18n.runebuilder.splash.title}\n                </Description.Title>\n                <Description.P small>\n                    {window.i18n.runebuilder.splash.body}\n                </Description.P>\n            </Description.Block>\n        </Slot.RightSide>\n    </Slot.Block>\n);\n\n\nexport default EmptySlot;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/SecondaryPath/components/EmptySlot/index.jsx","import React from 'preact';\nimport styled from 'styled-components';\nimport {\n    connect,\n} from 'react-redux';\n\n\nimport Share from 'runeBuilder/components/Share';\nimport PathList from './components/PathList';\nimport PrimaryPath from './components/PrimaryPath';\nimport SecondaryPath from './components/SecondaryPath';\n\n\nconst Block = styled('div')`\n    overflow: hidden;\n    margin: 0 -20px;\n    padding: 12px;\n    border-bottom: 1px solid #4d3d1c;\n    background: #000;\n`;\n\n\nconst Mobile = (props) => {\n    const {\n        paths,\n        primary,\n        secondary,\n    } = props;\n\n    return (\n        <Block>\n            <PathList paths={paths} primary={primary} />\n            <PrimaryPath primary={primary} />\n            <SecondaryPath paths={paths} primary={primary} secondary={secondary} />\n            <Share />\n        </Block>\n    );\n};\n\n\nconst mapStateToProps = state => ({\n    paths: state.paths,\n    primary: state.primary,\n    secondary: state.secondary,\n});\n\n\nexport default connect(mapStateToProps)(Mobile);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Mobile/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nconst Block = styled('div')`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: linear-gradient(0deg, #010a13 0%, #030e14 100%);\n`;\n\n\nconst Path = styled('button')`\n    flex: 0 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 20%;\n    padding: 10px 5px;\n    background: #010a13;\n    border: 1px solid #9c9789;\n    text-align: center;\n    position: relative;\n    z-index: 2;\n\n    &::after {\n        content: '';\n        opacity: ${props => props.isActive ? '1' : '0'};\n        display: block;\n        border: 2px solid #c89b3c;\n        position: absolute;\n        top: -1px;\n        right: -1px;\n        bottom: -1px;\n        left: -1px;\n        transition: 0.2s;\n    }\n`;\n\nconst Icon = styled('img')`\n    display: block;\n    margin: auto;\n    max-width: 100%;\n    height: auto;\n`;\n\nconst Title = styled('h3')`\n    margin: 0 0 5px;\n    font-size: 7px;\n    line-height: 1;\n    text-transform: uppercase;\n`;\n\n\nexport default class PathList extends React.Component {\n    componentDidMount() {\n        const pathsData = Object.keys(this.props.paths).map(key => this.props.paths[key]);\n\n        if (this.props.primary === false) {\n            pathsAPI.setPrimary(pathsData[0].slug);\n        }\n    }\n\n    render() {\n        const pathsData = Object.keys(this.props.paths).map(key => this.props.paths[key]);\n\n        return (\n            <Block>\n                {pathsData.map((path) => {\n                    const setPrimary = () => {\n                        pathsAPI.setPrimary(path.slug);\n                    };\n\n                    return (\n                        <Path key={path.slug} isActive={path.slug === this.props.primary.slug} onClick={setPrimary}>\n                            <Icon src={path.icon} alt=\"\"/>\n                            <Title>{path.title}</Title>\n                        </Path>\n                    );\n                })}\n            </Block>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Mobile/components/PathList/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport * as Description from 'runeBuilder/components/Description';\nimport PerkButton from 'runeBuilder/components/PerkButton';\nimport Flourish from 'runeBuilder/components/Flourish';\nimport PathButton from '../PathButton';\nimport * as Slot from '../Slot';\nimport Backdrop from './components/Backdrop';\n\n\nconst Block = styled('div')`\n    padding-top: 40px;\n    position: relative;\n    z-index: 1;\n`;\n\nconst SlotBlock = Slot.Block.extend`\n    padding: 16px 0;\n`;\n\nconst P = Description.P.extend`\n    margin-bottom: 0;\n`;\n\n\nexport default class PrimaryPath extends React.Component {\n    render() {\n        const {\n            primary,\n        } = this.props;\n\n        if (!primary) { return null; }\n\n        return (\n            <Block>\n                <div>\n                    <Backdrop path={primary} />\n\n                    <Slot.Block>\n                        <Slot.LeftSide>\n                            <PathButton icon={primary.icon} path={primary} />\n                        </Slot.LeftSide>\n                        <Slot.RightSide>\n                            <Description.Title color={primary.colors.title}>\n                                {primary.name}\n                            </Description.Title>\n                            <Description.P>{primary.description}</Description.P>\n                        </Slot.RightSide>\n                    </Slot.Block>\n\n\n                    {primary.slots.map((slot, slotIndex) => {\n                        const slotRune = slot.runes[slot.choice];\n\n                        const togglePrimaryRuneDrawer = () => {\n                            pathsAPI.togglePrimaryRuneDrawer(slotIndex);\n                        };\n\n                        return (\n                            <SlotBlock\n                                key={slot.slug}\n                            >\n\n                                <Flourish top={0} />\n\n                                <Slot.LeftSide>\n                                    <PerkButton\n                                        rune={slotRune}\n                                        path={primary}\n                                        isActive={slot.isOpen}\n                                        onClick={togglePrimaryRuneDrawer}\n                                    />\n                                </Slot.LeftSide>\n\n                                {slot.isOpen ? (\n                                    <Slot.RightSide>\n                                        {slot.runes.map((rune, runeIndex) => {\n                                            const setPrimaryRune = () => {\n                                                pathsAPI.setPrimaryRune(slotIndex, runeIndex);\n                                            };\n\n                                            const isChosen = slot.choice !== -1 && slot.choice !== runeIndex;\n\n                                            return (\n                                                <Slot.Block key={rune.name}>\n                                                    <Slot.LeftSide>\n                                                        <PerkButton\n                                                            rune={rune}\n                                                            path={primary}\n                                                            small\n                                                            onClick={setPrimaryRune}\n                                                            isChosen={isChosen}\n                                                        />\n                                                    </Slot.LeftSide>\n                                                    <Slot.RightSide>\n                                                        <Description.Title\n                                                            color={primary.colors.title}\n                                                        >\n                                                            {rune.name}\n                                                        </Description.Title>\n                                                        <P\n                                                            dangerouslySetInnerHTML={{\n                                                                __html: rune.longDescription,\n                                                            }}\n                                                        />\n                                                    </Slot.RightSide>\n                                                </Slot.Block>\n                                            );\n                                        })}\n                                    </Slot.RightSide>\n                                ) : (\n                                    <Slot.RightSide>\n                                        {slotRune ? (\n                                            <div>\n                                                <Description.Title color={primary.colors.title}>\n                                                    {slotRune.name}\n                                                </Description.Title>\n                                                <P\n                                                    dangerouslySetInnerHTML={{\n                                                        __html: slotRune.longDescription,\n                                                    }}\n                                                />\n                                            </div>\n                                        ) : (\n                                            <P color={primary.colors.title}>\n                                                {slotIndex === 0 ? window.i18n.runebuilder.selectKeystone : window.i18n.runebuilder.selectRune}\n                                            </P>\n                                        )}\n                                    </Slot.RightSide>\n                                )}\n\n                            </SlotBlock>\n                        );\n                    })}\n\n                </div>\n            </Block>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Mobile/components/PrimaryPath/index.jsx","import React from 'react';\nimport styled, {\n    keyframes,\n} from 'styled-components';\n\n\nconst animateIn = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n`;\n\nconst Block = styled('div')`\n    opacity: 0;\n    width: ${(370 / 320) * 100}vw;\n    position: absolute;\n    top: ${(-70 / 320) * 100}vw;\n    left: 0;\n    z-index: -1;\n    transition: 0.3s;\n\n    ${props => props.isLoaded && `\n        opacity: 1;\n    `}\n\n    &::after {\n        content: '';\n        display: block;\n        width: 100%;\n        height: 100%;\n        background: radial-gradient(ellipse closest-side at center, transparent 0%, #000 100%);\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n`;\n\nconst Environment = styled('img')`\n    width: 100%;\n    height: auto;\n`;\n\nconst Construct = styled(Environment)`\n    width: ${(700 / 1162) * 100}%;\n    position: absolute;\n    top: 0;\n    right: 0;\n`;\n\n\nexport default class Backdrop extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            isLoaded: false,\n        };\n    }\n\n    componentDidMount() {\n        const image = new Image();\n\n        image.onload = () => {\n            this.setState({\n                isLoaded: true,\n            });\n        };\n\n        image.src = `${this.props.path.construct}/environment.png`;\n    }\n\n    render() {\n        const {\n            path,\n        } = this.props;\n\n        return (\n            <Block isLoaded={this.state.isLoaded}>\n                <Environment src={`${path.construct}/environment.png`} alt=\"\" />\n                <Construct src={`${path.construct}/construct.png`} alt=\"\" />\n            </Block>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Mobile/components/PrimaryPath/components/Backdrop/index.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport findIndex from 'lodash/findIndex';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport * as Description from 'runeBuilder/components/Description';\nimport PathButton from '../PathButton';\nimport * as Slot from '../Slot';\nimport RuneChooser from './components/RuneChooser';\n\n\nconst Block = styled('div')`\n    position: relative;\n    z-index: 1;\n`;\n\nconst PerkList = styled('div')`\n    display: flex;\n    align-items: center;\n`;\n\nconst PerkItem = styled('div')`\n    width: 60px;\n`;\n\nconst SlotBlock = Slot.Block.extend`\n    border-top: 1px solid #4d3d1c;\n    padding: 16px 0;\n`;\n\nconst Title = Description.Title.extend`\n    margin-bottom: 0;\n`;\n\nconst P = Description.P.extend`\n    margin-bottom: 0;\n`;\n\n\nexport default class SecondaryPath extends React.Component {\n    componentDidMount() {\n        pathsAPI.toggleSecondaryPathDrawer();\n    }\n\n    render() {\n        const {\n            paths,\n            primary,\n            secondary,\n        } = this.props;\n\n        const remainingPrimaryChoices = findIndex(primary.slots, slot => slot.choice === -1);\n\n        if (remainingPrimaryChoices !== -1) { return null; }\n\n        const remainingPaths = Object.values(paths).filter(path => path.name !== primary.name);\n        const setBonus = secondary.icon && primary.bonuses\n            .find(bonus => bonus.name.indexOf(secondary.name) !== -1);\n\n        return (\n            <Block>\n                <SlotBlock>\n                    <Slot.LeftSide>\n                        <PathButton\n                            icon={secondary && secondary.icon}\n                            path={secondary}\n                            onClick={pathsAPI.toggleSecondaryPathDrawer}\n                        />\n                    </Slot.LeftSide>\n\n                    {!secondary.isOpen && secondary.icon && (\n                        <Slot.RightSide>\n                            <Description.Title\n                                color={secondary.colors.title}\n                            >\n                                {secondary.name}\n                            </Description.Title>\n                            <P>{secondary.description}</P>\n                            <P\n                                dangerouslySetInnerHTML={{\n                                    __html: setBonus.value,\n                                }}\n                            />\n                        </Slot.RightSide>\n                    )}\n\n                    {!secondary.isOpen && !secondary.icon && (\n                        <Slot.RightSide>\n                            <Title small>{window.i18n.runebuilder.secondary.selectSecondary}</Title>\n                        </Slot.RightSide>\n                    )}\n\n                    {secondary.isOpen && (\n                        <Slot.RightSide>\n                            <PerkList>\n                                {remainingPaths.map((choice) => {\n                                    const setSecondary = () => {\n                                        pathsAPI.setSecondary(choice.slug);\n                                    };\n\n                                    return (\n                                        <PerkItem key={choice.slug}>\n                                            <PathButton\n                                                icon={choice.icon}\n                                                path={choice}\n                                                onClick={setSecondary}\n                                            />\n                                        </PerkItem>\n                                    );\n                                })}\n                            </PerkList>\n                        </Slot.RightSide>\n                    )}\n                </SlotBlock>\n\n                {secondary.hasPath && <RuneChooser key={secondary.title} secondary={secondary} />}\n\n            </Block>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Mobile/components/SecondaryPath/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport * as pathsAPI from 'runeBuilder/services/api/paths';\n\n\nimport PerkButton from 'runeBuilder/components/PerkButton';\nimport Flourish from 'runeBuilder/components/Flourish';\nimport * as Description from 'runeBuilder/components/Description';\nimport * as Slot from '../../../Slot';\n\n\nconst RuneDrawer = styled('div')`\n    display: flex;\n    flex-wrap: wrap;\n    width: 180px;\n    height: 180px;\n    z-index: 100;\n`;\n\nconst RuneDrawerItem = styled('div')`\n    flex-basis: ${100 / 3}%;\n    display: flex;\n`;\n\nconst SlotBlock = Slot.Block.extend`\n    padding: 16px 0;\n`;\n\nconst Title = Description.Title.extend`\n    margin-bottom: 0;\n`;\n\nconst P = Description.P.extend`\n    margin-bottom: 0;\n`;\n\n\nexport default class PathSlot extends React.Component {\n    render() {\n        const {\n            secondary,\n        } = this.props;\n\n        const {\n            runes,\n            choices,\n            slotIndex,\n            isOpen,\n        } = secondary.slots;\n\n        const [\n            choice1,\n            choice2,\n        ] = choices;\n\n        const rune1 = runes[choices[0]];\n        const rune2 = runes[choices[1]];\n        const rune1Group = Math.floor(choice1 / 3);\n        const rune2Group = Math.floor(choice2 / 3);\n\n        return (\n            <div key={secondary.slug || 'blank'}>\n                <SlotBlock>\n                    <Flourish top={0} />\n\n                    <Slot.LeftSide>\n                        <PerkButton\n                            rune={rune1}\n                            path={secondary}\n                            isActive={isOpen && slotIndex === 0}\n                            onClick={pathsAPI.toggleSecondaryRuneDrawer.bind(null, 0)}\n                        />\n                    </Slot.LeftSide>\n                    <Slot.RightSide>\n                        {isOpen && slotIndex === 0 ? (\n                            <Slot.Block>\n                                <RuneDrawer>\n                                    {runes.map((rune, runeIndex) => {\n                                        const runeGroupNumber = Math.floor(runeIndex / 3);\n                                        const inRuneGroup1 = runeGroupNumber === rune1Group;\n                                        const inRuneGroup2 = runeGroupNumber === rune2Group;\n                                        const runeGroup = inRuneGroup1 || inRuneGroup2;\n\n                                        const isChosen = runeGroup && runeIndex !== choice1 && runeIndex !== choice2;\n\n                                        return (\n                                            <RuneDrawerItem key={rune.runeId}>\n                                                <PerkButton\n                                                    rune={rune}\n                                                    path={secondary}\n                                                    onClick={pathsAPI.setSecondaryRune.bind(null, runeIndex)}\n                                                    isChosen={isChosen}\n                                                />\n                                            </RuneDrawerItem>\n                                        );\n                                    })}\n                                </RuneDrawer>\n                            </Slot.Block>\n                        ) : (\n                            !rune1 ? (\n                                <Title\n                                    key=\"choose-rune1\"\n                                    small\n                                    color={secondary.colors.title}\n                                >\n                                    Select Secondary\n                                </Title>\n                            ) : (\n                                <div key=\"rune1\">\n                                    <Description.Title\n                                        small\n                                        color={secondary.colors.title}\n                                    >\n                                        {rune1.name}\n                                    </Description.Title>\n                                    <P\n                                        dangerouslySetInnerHTML={{\n                                            __html: rune1.longDescription,\n                                        }}\n                                    />\n                                </div>\n                            )\n                        )}\n                    </Slot.RightSide>\n                </SlotBlock>\n\n                <SlotBlock>\n                    <Flourish top={0} />\n\n                    <Slot.LeftSide>\n                        <PerkButton\n                            rune={rune2}\n                            path={secondary}\n                            isActive={isOpen && slotIndex === 1}\n                            onClick={pathsAPI.toggleSecondaryRuneDrawer.bind(null, 1)}\n                        />\n                    </Slot.LeftSide>\n\n                    <Slot.RightSide>\n                        {isOpen && slotIndex === 1 ? (\n                            <Slot.Block>\n                                <RuneDrawer>\n                                    {runes.map((rune, runeIndex) => {\n                                        const runeGroupNumber = Math.floor(runeIndex / 3);\n                                        const inRuneGroup1 = runeGroupNumber === rune1Group;\n                                        const inRuneGroup2 = runeGroupNumber === rune2Group;\n                                        const runeGroup = inRuneGroup1 || inRuneGroup2;\n\n                                        const isChosen = runeGroup && runeIndex !== choice1 && runeIndex !== choice2;\n\n                                        return (\n                                            <RuneDrawerItem key={rune.runeId}>\n                                                <PerkButton\n                                                    rune={rune}\n                                                    path={secondary}\n                                                    onClick={pathsAPI.setSecondaryRune.bind(null, runeIndex)}\n                                                    isChosen={isChosen}\n                                                />\n                                            </RuneDrawerItem>\n                                        );\n                                    })}\n                                </RuneDrawer>\n                            </Slot.Block>\n                        ) : (\n                            !rune2 ? (\n                                <Title\n                                    key=\"choose-rune2\"\n                                    small\n                                    color={secondary.colors.title}\n                                >\n                                    Select Secondary\n                                </Title>\n                            ) : (\n                                <div key=\"rune2\">\n                                    <Description.Title\n                                        small\n                                        color={secondary.colors.title}\n                                    >\n                                        {rune2.name}\n                                    </Description.Title>\n                                    <P\n                                        dangerouslySetInnerHTML={{\n                                            __html: rune2.longDescription,\n                                        }}\n                                    />\n                                </div>\n                            )\n                        )}\n                    </Slot.RightSide>\n\n                </SlotBlock>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Mobile/components/SecondaryPath/components/RuneChooser/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\n\nconst SVG = styled('svg')`\n    position: absolute;\n    top: 100%;\n    left: 100%;\n`;\n\n\nexport default class SVGGradients extends React.Component {\n    render() {\n        const {\n            paths,\n        } = this.props;\n\n        const pathsData = Object.keys(paths).map(key => paths[key]);\n\n        return (\n            <SVG class=\"perks-svg-gradients\" width=\"0\" height=\"0\">\n                <linearGradient id=\"gradient-white-transparent\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop stopOpacity=\"1\" stopColor=\"#fff\" offset=\"0%\" />\n                    <stop stopOpacity=\"0\" stopColor=\"#fff\" offset=\"100%\" />\n                </linearGradient>\n                <linearGradient id=\"gradient-yuma-dallasLight\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop stopColor=\"#cdbe91\" offset=\"0%\" />\n                    <stop stopColor=\"#785a28\" offset=\"100%\" />\n                </linearGradient>\n                {pathsData.map(path => (\n                    <linearGradient key={path.name} id={`gradient-${path.slug}`} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                        <stop stopColor={path.colors.gradient.top} offset=\"0%\" />\n                        <stop stopColor={path.colors.gradient.bottom} offset=\"100%\" />\n                    </linearGradient>\n                ))}\n            </SVG>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/App/components/SVGGradients/index.jsx","import React from 'react';\nimport debounce from 'lodash/debounce';\n\n\nexport default class ViewportSwitch extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            match: -1,\n        };\n    }\n\n    componentDidMount() {\n        this.testMatch();\n\n        this.handleResize = debounce(this.testMatch.bind(this), 100);\n\n        window.addEventListener('resize', this.handleResize);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleResize);\n    }\n\n    testMatch() {\n        const match = window.matchMedia(this.props.queryString).matches;\n\n        if (match !== this.state.match) {\n            this.setState({\n                match,\n            });\n        }\n    }\n\n    render() {\n        const {\n            // The pass/fail components if not provided still need to be set to\n            // valid children.\n            PassComponent = <span />,\n            FailComponent = <span />,\n        } = this.props;\n\n        if (this.state.match === -1) { return null; }\n\n        // React.Children.only let's us return the correct component without\n        // wrapping it in another tag. Helps with markup specific styles\n        return React.Children.only(this.state.match ? PassComponent : FailComponent);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/App/components/ViewportSwitch/index.jsx","import React from 'react';\nimport styled from 'styled-components';\n\nimport * as Description from 'runeBuilder/components/Description';\nimport TruncatedText from 'runeBuilder/components/TruncatedText';\nimport PerkButtonWithTooltip from '../PerkButtonWithTooltip';\nimport Drawer from '../Drawer';\n\n\nexport const Block = styled('div')`\n    display: flex;\n    margin-bottom: -1px;\n`;\n\nexport const LeftSide = styled('div')`\n    flex-shrink: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-left: -30px;\n    width: 107px;\n    height: 100px;\n    position: relative;\n`;\n\nexport const RightSide = styled('div')`\n    flex-grow: 1;\n    position: relative;\n    height: 100px;\n    width: 198px;\n`;\n\nexport const Button = styled('button')`\n    display: block;\n    padding: 0;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background: #1e2328;\n    border-radius: 50%;\n    box-shadow: inset 0 0 7px #000, 0 0 1px #000;\n    position: relative;\n\n    ${props => props.large && `\n        width: 62px;\n        height: 62px;\n    `}\n`;\n\nexport const DisabledButton = Button.withComponent('div');\n\nexport const Frame = styled('svg')`\n    width: 100%;\n    height: 100%;\n    position: relative;\n`;\n\nexport const Icon = styled('img')`\n    margin: 0;\n    width: ${props => (props.keystone ? '108px' : '46px')};\n    height: ${props => (props.keystone ? '108px' : '46px')};\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`;\n\nconst KeystoneFlourish = styled('svg')`\n    position: absolute;\n    right: 0;\n    width: 286px;\n    height: 9px;\n\n    ${props => props.top && `\n        top: 0;\n    `}\n\n    ${props => props.bottom && `\n        bottom: 0;\n        transform: scale(1, -1);\n    `}\n`;\n\n\nconst Slot = (props) => {\n    const {\n        slot,\n        path,\n        slotIndex,\n        selectTitle,\n        selectText,\n        keystone,\n    } = props;\n\n    const {\n        choice,\n    } = slot;\n\n    const currentRune = slot.runes[choice] || false;\n\n    const columns = slot.runes.length > 4 ? 3 : slot.runes.length;\n\n    const toggleDrawer = () => {\n        props.toggleDrawer(slotIndex);\n    };\n\n    return (\n        <Block>\n            <LeftSide>\n                <PerkButtonWithTooltip\n                    rune={currentRune}\n                    path={path}\n                    isActive={slot.isOpen}\n                    disabled={props.disabled}\n                    onClick={toggleDrawer}\n                    size={keystone && 'large'}\n                    keystone={keystone}\n                />\n            </LeftSide>\n            <RightSide>\n\n                {keystone && (\n                    <KeystoneFlourish top xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 286 9\">\n\n                        <linearGradient id=\"grad1\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                            <stop\n                                offset=\"0%\"\n                                stopColor={path.colors.gradient.bottom}\n                                stopOpacity=\"0\"\n                            />\n                            <stop\n                                offset=\"50%\"\n                                stopColor={path.colors.gradient.top}\n                                stopOpacity=\"1\"\n                            />\n                            <stop\n                                offset=\"100%\"\n                                stopColor={path.colors.gradient.bottom}\n                                stopOpacity=\"0\"\n                            />\n                        </linearGradient>\n\n                        <path fill=\"none\" stroke=\"url('#grad1')\" d=\"M0 4.5h193l4 4\" />\n                        <path fill=\"none\" stroke=\"url('#grad1')\" d=\"M286 8.5H62l-7-8H20l-4 4\" />\n                    </KeystoneFlourish>\n                )}\n\n                {keystone && (\n                    <KeystoneFlourish bottom xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 286 9\">\n                        <linearGradient id=\"grad2\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                            <stop offset=\"0%\" stopColor=\"transparent\" />\n                            <stop offset=\"50%\" stopColor={path.colors.gradient.top} />\n                            <stop offset=\"100%\" stopColor=\"transparent\" />\n                        </linearGradient>\n\n                        <path fill=\"none\" stroke=\"url('#grad1')\" d=\"M0 4.5h193l4 4\" />\n                        <path fill=\"none\" stroke=\"url('#grad1')\" d=\"M286 8.5H62l-7-8H20l-4 4\" />\n                    </KeystoneFlourish>\n                )}\n\n                {!slot.isOpen && (\n                    <div>\n                        {currentRune ? (\n                            <Description.Block key={currentRune.name} animate>\n                                <Description.Title color={path.colors.title}>\n                                    {currentRune.name}\n                                </Description.Title>\n                                <TruncatedText>\n                                    <Description.P dangerouslySetInnerHTML={{\n                                        __html: currentRune.shortDescription,\n                                    }}\n                                    />\n                                </TruncatedText>\n                            </Description.Block>\n                        ) : (\n                            <Description.Block key=\"choose-perk\">\n                                <Description.Title small>\n                                    {selectTitle || ''}\n                                </Description.Title>\n                                <TruncatedText>\n                                    <Description.P>\n                                        {selectText || window.i18n.runebuilder.selectRune}\n                                    </Description.P>\n                                </TruncatedText>\n                            </Description.Block>\n                        )}\n                    </div>\n                )}\n\n                <Drawer path={path} isOpen={slot.isOpen} columns={columns} keystone={keystone}>\n                    {slot.runes.map((rune, runeIndex) => {\n                        const setRuneWithData = () => {\n                            props.setRune(slotIndex, runeIndex);\n                        };\n\n                        const isChosen = slot.choice !== -1 && slot.choice !== runeIndex;\n\n                        return (\n                            <PerkButtonWithTooltip\n                                key={rune.name}\n                                rune={rune}\n                                path={path}\n                                keystone={keystone}\n                                onClick={setRuneWithData}\n                                isChosen={isChosen}\n                            />\n                        );\n                    })}\n                </Drawer>\n\n            </RightSide>\n        </Block>\n    );\n};\n\n\nexport default Slot;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/scenes/Desktop/components/RuneBuilder/components/Slot/index.jsx","import {\n    createStore,\n} from 'redux';\n\n\nimport rootReducers from './reducers';\n\n\nconst store = createStore(rootReducers);\n\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/store.js","import findIndex from 'lodash/findIndex';\nimport {\n    assetPath,\n    pushToDataLayer,\n} from '../helpers';\n\n\nexport const appNode = document.querySelector('#perks-app');\n\n\nexport function runeIconSrc(runeId) {\n    // eslint-disable-next-line no-undef\n    return assetPath(`/img/runeBuilder/runes/108x108/${runeId}.png`);\n}\n\n\nexport const loadImage = src =>\n    new Promise((resolve, reject) => {\n        const tempImage = new Image();\n\n        tempImage.onload = () => {\n            resolve();\n        };\n        tempImage.onerror = () => {\n            reject();\n        };\n\n        tempImage.src = src;\n    });\n\n\nexport function validateBuild({ paths, primary, secondary }) {\n    // If primary and secondary arn't set then we can't proceed and the build is invalid.\n    if (!primary.slug || !secondary.slug) {\n        return false;\n    }\n\n    const remainingPaths = paths.filter(path => path.name !== primary.name);\n\n    // Build a config using data from primary and secondary.\n    const config = [\n        findIndex(paths, path => path.slug === primary.slug),\n        primary.slots[0].choice,\n        primary.slots[1].choice,\n        primary.slots[2].choice,\n        primary.slots[3].choice,\n        findIndex(remainingPaths, path => path.slug === secondary.slug),\n        secondary.slots.choices[0],\n        secondary.slots.choices[1],\n    ];\n\n    const firstEmptyChoice = findIndex(config, slot => slot === -1);\n\n    // If any slot has a value of -1 it's empty and the build is invalid\n    if (firstEmptyChoice !== -1) {\n        return false;\n    }\n\n    // If we have a valid build return a string of it's config.\n    return config.join('');\n}\n\n\nexport function facebookShare(link) {\n    if (window.FB) {\n        window.FB.ui({\n            method: 'share',\n            href: link,\n            quote: window.i18n.runebuilder.share.headline,\n            mobile_iframe: true,\n        });\n\n        const event = {\n            eventAction: 'Share-Facebook',\n            eventLabel: link,\n        };\n\n        pushToDataLayer(event);\n    }\n}\n\nexport function twitterShare(link) {\n    const event = {\n        eventAction: 'Share-Twitter',\n        eventLabel: link,\n    };\n\n    pushToDataLayer(event);\n\n    const encoded = encodeURIComponent(link);\n    const href = `https://twitter.com/intent/tweet?text=${window.i18n.runebuilder.share.headline}&url=${encoded}`;\n    window.open(href, '_blank');\n}\n\nexport function vkShare(link) {\n    const encoded = encodeURIComponent(link);\n    const href = `http://vk.com/share.php?url=${encoded}&title=${window.i18n.runebuilder.share.headline}&description=${window.i18n.runebuilder.share.body}`;\n    window.open(href);\n\n    const event = {\n        eventAction: 'Share-VK',\n        eventLabel: link,\n    };\n\n    pushToDataLayer(event);\n}\n\nexport function shareLink(link) {\n    const event = {\n        eventAction: 'Share-URL',\n        eventLabel: link,\n    };\n\n    pushToDataLayer(event);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/helpers.js","import React from 'react';\nimport styled from 'styled-components';\n\n\nimport {\n    assetPath,\n} from 'helpers';\n\n\nimport Spinner from '../Spinner';\nimport PreloadedImage from '../PreloadedImage';\n\n\nconst Button = styled('button')`\n    display: block;\n    padding: 0;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background: #1e2328;\n    border-radius: 50%;\n    box-shadow: inset 0 0 7px #000, 0 0 1px #000;\n    position: relative;\n    transition: opacity 0.2s, filter 0.2s;\n\n    ${props => props.size === 'small' && `\n        width: 62px;\n        height: 62px;\n    `}\n\n    ${props => props.size === 'large' && `\n        width: 62px;\n        height: 62px;\n    `}\n\n    ${props => props.isChosen && `\n        opacity: 0.5;\n        filter: grayscale(100%);\n    `}\n\n    &:hover {\n        opacity: 1;\n        filter: none;\n    }\n`;\n\nconst DisabledButton = Button.withComponent('div');\n\nconst OuterFrame = styled('svg')`\n    opacity: 0;\n    width: 62px;\n    height: 60px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    transition: opacity 0.2s;\n\n    ${props => props.size === 'large' && `\n        width: 76px;\n        height: 76px;\n    `}\n\n    ${Button}:hover & {\n        opacity: 0.5;\n    }\n`;\n\nconst InnerFrame = styled('svg')`\n    width: 100%;\n    height: 100%;\n    position: relative;\n`;\n\nconst Icon = styled(PreloadedImage)`\n    margin: 0;\n    width: 46px;\n    height: 46px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    transition: opacity 0.2s, transform 0.2s;\n\n    ${props => props.keystone && `\n        width: 82px;\n        height: 82px;\n        z-index: 1;\n    `}\n\n    ${props => props.keystone && props.size === 'large' && `\n        width: 108px;\n        height: 108px;\n    `}\n\n    ${props => props.isActive && `\n        transform: translate(-50%, -50%) scale(0.75);\n        opacity: 0.5;\n    `}\n`;\n\n\nconst SlotButton = ({ rune, path, size = 'default', keystone, isActive, isDisabled, isChosen, onClick }) => {\n    if (isDisabled) {\n        return (\n            <DisabledButton size={size} keystone={keystone}>\n                <InnerFrame viewBox=\"0 0 47 47\">\n                    <circle cx=\"23.5\" cy=\"23.5\" r=\"22.5\" strokeWidth=\"2\" fill=\"none\" stroke=\"url(#gradient-yuma-dallasLight)\" />\n                </InnerFrame>\n            </DisabledButton>\n        );\n    }\n\n    const stroke = path ? `url(#gradient-${path.slug})` : 'url(#gradient-yuma-dallasLight)';\n\n    return (\n        <Button size={size} keystone={keystone} onClick={onClick} isChosen={isChosen}>\n            <OuterFrame viewBox=\"0 0 60 60\" size={size}>\n                <circle cx=\"30\" cy=\"30\" r=\"28.5\" strokeWidth=\"3\" fill=\"none\" stroke={stroke} />\n            </OuterFrame>\n            {rune && <Icon key={rune.runeId} src={assetPath(`/img/runeBuilder/runes/108x108/${rune.runeId}.png`)} alt=\"\" keystone={keystone} size={size} isActive={isActive} />}\n            <InnerFrame viewBox=\"0 0 47 47\">\n                <circle cx=\"23.5\" cy=\"23.5\" r=\"22.5\" strokeWidth=\"2\" fill=\"none\" stroke={stroke} />\n            </InnerFrame>\n            <Spinner keystone={keystone} isActive={isActive} />\n        </Button>\n    );\n};\n\n\nexport default SlotButton;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/runeBuilder/components/PerkButton/index.jsx"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./lib/js/helpers.js","webpack:///./lib/js/main.js","webpack:///./lib/js/features/hero.js","webpack:///./lib/js/features/sticky-nav.js","webpack:///./lib/js/features/scrollto.js","webpack:///./lib/js/features/active-in-view.js","webpack:///./lib/js/features/lazy-loaders.js","webpack:///./lib/js/features/tracking.js"],"names":["assetPath","pushToDataLayer","path","versionedAssetPath","analyticsEvent","event","eventCategory","window","dataLayer","push","pushedEvent","process","env","NODE_ENV","console","log","heroBackdrop","document","querySelector","frame","position","style","transform","Math","floor","viewportTop","requestAnimationFrame","elementWatcher","create","enterViewport","exitViewport","cancelAnimationFrame","stickyNav","stickyNavContent","fix","paddingTop","offsetHeight","classList","add","unfix","remove","partiallyExitViewport","fullyEnterViewport","isFullyInViewport","require","polyfill","scrollTo","querySelectorAll","forEach","node","addEventListener","target","hash","top","getBoundingClientRect","scrollY","pageYOffset","left","behavior","items","item","innerHeight","destroy","imagesToLoad","backgroundsToLoad","timing","loadImage","image","Promise","resolve","reject","tempImage","Image","dataSrc","getAttribute","onload","src","onerror","styles","getComputedStyle","addTransition","transition","opacity","then","setTimeout","loadBackgrounds","background","scrollMarkers","marker","markerWatcher","eventAction","eventLabel","id","pushClickNodes"],"mappings":"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","file":"main.js","sourcesContent":["\n/* global versionedAssetPath:true */\nexport function assetPath(path) {\n    return `${versionedAssetPath}${path}`;\n}\n\n\nconst analyticsEvent = {\n    event: 'analyticsEvent',\n    eventCategory: 'Preseason-Update',\n};\n\nexport function pushToDataLayer(event) {\n    if (typeof window.dataLayer.push === 'function') {\n        const pushedEvent = {\n            ...analyticsEvent,\n            ...event,\n        };\n\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(pushedEvent);\n        }\n        window.dataLayer.push(pushedEvent);\n    }\n}\n\n\nexport default {\n    assetPath,\n    pushToDataLayer,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/helpers.js","import 'babel-polyfill';\n\n\nimport './features/hero';\nimport './features/sticky-nav';\nimport './features/scrollto';\nimport './features/active-in-view';\nimport './features/lazy-loaders';\nimport './features/tracking';\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/main.js","import scrollMonitor from 'scrollmonitor';\n\n\nconst heroBackdrop = document.querySelector('.js-hero-backdrop');\nlet frame = null;\n\n\nfunction position() {\n    heroBackdrop.style.transform = `translate3d(0, ${Math.floor(scrollMonitor.viewportTop * 0.35)}px, 0)`;\n\n    frame = window.requestAnimationFrame(position);\n}\n\nif (heroBackdrop) {\n    const elementWatcher = scrollMonitor.create(heroBackdrop);\n\n\n    if (elementWatcher) {\n        elementWatcher.enterViewport(position);\n\n        elementWatcher.exitViewport(() => {\n            window.cancelAnimationFrame(frame);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/features/hero.js","import scrollMonitor from 'scrollmonitor';\n\n\nconst stickyNav = document.querySelector('.js-sticky-nav');\nlet stickyNavContent = null;\n\n\nfunction fix() {\n    stickyNav.style.paddingTop = `${stickyNavContent.offsetHeight}px`;\n    stickyNavContent.classList.add('is-fixed');\n}\n\nfunction unfix() {\n    stickyNav.style.paddingTop = '';\n    stickyNavContent.classList.remove('is-fixed');\n}\n\nif (stickyNav) {\n    stickyNavContent = stickyNav.querySelector('.js-sticky-nav__content');\n\n    const elementWatcher = scrollMonitor.create(stickyNav);\n\n    elementWatcher.partiallyExitViewport(fix);\n    elementWatcher.fullyEnterViewport(unfix);\n\n    if (!elementWatcher.isFullyInViewport) {\n        fix();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/features/sticky-nav.js","require('smoothscroll-polyfill').polyfill();\n\nconst scrollTo = [...document.querySelectorAll('.js-scroll-to')];\n\n\nscrollTo.forEach((node) => {\n    node.addEventListener('click', () => {\n        const target = document.querySelector(node.hash);\n\n        if (target) {\n            window.scrollTo({\n                top: target.getBoundingClientRect().top + (window.scrollY || window.pageYOffset),\n                left: 0,\n                behavior: 'smooth',\n            });\n        }\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/features/scrollto.js","import scrollMonitor from 'scrollmonitor';\n\n\nconst items = [...document.querySelectorAll('.js-active-in-view')];\n\n\nitems.forEach((item) => {\n    const elementWatcher = scrollMonitor.create(item, window.innerHeight * 0.1);\n\n    elementWatcher.enterViewport(() => {\n        item.classList.add('is-active');\n        elementWatcher.destroy();\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/features/active-in-view.js","import scrollMonitor from 'scrollmonitor';\nimport {\n    assetPath,\n} from '../helpers';\n\nconst imagesToLoad = [...document.querySelectorAll('.js-lazy-image')];\nconst backgroundsToLoad = [...document.querySelectorAll('.js-lazy-background')];\nconst timing = 300;\n\n\nfunction loadImage(image) {\n    return new Promise((resolve, reject) => {\n        const tempImage = new Image();\n        const dataSrc = image.getAttribute('data-src');\n\n        if (!dataSrc) {\n            reject(`No 'data-src' set on ${image}`);\n        }\n\n        tempImage.onload = () => {\n            image.src = dataSrc;\n            resolve();\n        };\n\n        tempImage.onerror = () => {\n            reject();\n        };\n\n        tempImage.src = dataSrc;\n    });\n}\n\n\nimagesToLoad.forEach((image) => {\n    const elementWatcher = scrollMonitor.create(image, window.innerHeight * 0.5);\n    const styles = window.getComputedStyle(image);\n    const addTransition = styles.transition === 'all 0s ease 0s';\n\n    image.style.opacity = 0;\n    image.src = assetPath('/img/global/blank.gif');\n\n    if (addTransition) {\n        image.style.transition = `opacity ${timing}ms`;\n    }\n\n    elementWatcher.enterViewport(() => {\n        loadImage(image)\n            .then(() => {\n                image.style.opacity = '';\n\n                window.setTimeout(() => {\n                    if (addTransition) {\n                        image.style.transition = '';\n                    }\n                }, timing);\n\n                // elementWatcher.destroy();\n            });\n    });\n});\n\n\nfunction loadBackgrounds() {\n    backgroundsToLoad.forEach((node) => {\n        node.style.background = '';\n    });\n}\n\nwindow.addEventListener('load', loadBackgrounds);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/features/lazy-loaders.js","import scrollMonitor from 'scrollmonitor';\n\n\nimport {\n    pushToDataLayer,\n} from '../helpers';\n\n/**\n * Log node id to dataLayer when fully in viewport\n */\nconst scrollMarkers = [...document.querySelectorAll('.js-scroll-marker')];\n\nif (scrollMarkers) {\n    scrollMarkers.forEach((marker) => {\n        const markerWatcher = scrollMonitor.create(marker);\n        const event = {\n            eventAction: 'Scroll',\n            eventLabel: marker.id,\n        };\n\n        markerWatcher.fullyEnterViewport(() => {\n            pushToDataLayer(event);\n        });\n    });\n}\n\n\nconst pushClickNodes = [...document.querySelectorAll('.js-push-click')];\n\nif (pushClickNodes) {\n    pushClickNodes.forEach((node) => {\n        const eventLabel = node.getAttribute('data-event-label');\n\n        const event = {\n            eventAction: 'Click',\n            eventLabel,\n        };\n\n        node.addEventListener('click', () => {\n            pushToDataLayer(event);\n        });\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/features/tracking.js"],"sourceRoot":""}